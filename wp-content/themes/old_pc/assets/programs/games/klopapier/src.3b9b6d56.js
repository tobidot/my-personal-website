parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"kZHg":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function t(){this.listeners=[]}return t.prototype.add=function(t){this.listeners.push(t)},t.prototype.remove=function(t){var e=this.listeners.indexOf(t);if(!(e<0)){var n=this.listeners.length;this.listeners[e]=this.listeners[n-1],this.listeners.pop()}},t.prototype.trigger_event=function(t){this.listeners.forEach(function(e){e(t)})},t}();exports.ListenerSocket=e;var n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return t(n,e),n}(e);exports.ValueChangeListenerSocket=n;
},{}],"YZWB":[function(require,module,exports) {
module.exports="pallete.ca4925b6.png";
},{}],"P5oC":[function(require,module,exports) {
module.exports="fire.956e244e.png";
},{}],"Wycj":[function(require,module,exports) {
module.exports="spray.78de1da3.png";
},{}],"Y3iP":[function(require,module,exports) {
module.exports="infect.ae00b968.png";
},{}],"LbHn":[function(require,module,exports) {
module.exports="map1.32a28f52.png";
},{}],"ltfm":[function(require,module,exports) {
module.exports="map2.5753716a.png";
},{}],"liJu":[function(require,module,exports) {
module.exports="map3.553c4475.png";
},{}],"fPb7":[function(require,module,exports) {
module.exports="map4.85a83a75.png";
},{}],"z9Ha":[function(require,module,exports) {
module.exports="map5.ad22fff7.png";
},{}],"KQEH":[function(require,module,exports) {
module.exports="map6.28c58d4f.png";
},{}],"CYme":[function(require,module,exports) {
module.exports="map7.47ab99f3.png";
},{}],"d0DO":[function(require,module,exports) {
module.exports="map8.526a2c6b.png";
},{}],"hj7Q":[function(require,module,exports) {
module.exports="map9.0fe7daa4.png";
},{}],"SXqv":[function(require,module,exports) {
module.exports="furniture1.bcc94254.png";
},{}],"Lp0c":[function(require,module,exports) {
module.exports="furniture2.29cd0a0d.png";
},{}],"E2UW":[function(require,module,exports) {
module.exports="furniture4.60bdeca5.png";
},{}],"J9XY":[function(require,module,exports) {
module.exports="klopapier.cc1ed18a.png";
},{}],"CFaY":[function(require,module,exports) {
module.exports="moon.10017fbb.png";
},{}],"KO1f":[function(require,module,exports) {
module.exports="furniture3.238e4e85.png";
},{}],"ky7R":[function(require,module,exports) {
module.exports="nudel2.507e83a8.png";
},{}],"NnAj":[function(require,module,exports) {
module.exports="nudel3.407de15e.png";
},{}],"lHiy":[function(require,module,exports) {
module.exports="nudel.d0956665.png";
},{}],"Djrt":[function(require,module,exports) {
module.exports="nudel4.47abd1d7.png";
},{}],"GD7C":[function(require,module,exports) {
module.exports="paper_roll.cc1ed18a.png";
},{}],"DEUu":[function(require,module,exports) {
module.exports="paper_roll_half.3cf2e632.png";
},{}],"lzrB":[function(require,module,exports) {
module.exports="paper_roll_last.807be043.png";
},{}],"VTxr":[function(require,module,exports) {
module.exports="single_paper.9b19c317.png";
},{}],"aCjQ":[function(require,module,exports) {
module.exports="spray.a315313f.png";
},{}],"smG2":[function(require,module,exports) {
module.exports="sprayed.867a44f8.png";
},{}],"daOw":[function(require,module,exports) {
module.exports="sun.a07324ba.png";
},{}],"HMmi":[function(require,module,exports) {
module.exports="table.8d870b51.png";
},{}],"jhZR":[function(require,module,exports) {
module.exports="wall.55ac610d.png";
},{}],"KxCF":[function(require,module,exports) {
module.exports="wall2.5916e51e.png";
},{}],"qp57":[function(require,module,exports) {
module.exports="error.2abad3e8.png";
},{}],"d11t":[function(require,module,exports) {
module.exports="splashart.d74a7026.png";
},{}],"vhAp":[function(require,module,exports) {
module.exports="indoor_empty_clinical_pallette.cc8a1cd7.png";
},{}],"WWuW":[function(require,module,exports) {
module.exports="indoor_empty_pallette.0fcd5b3c.png";
},{}],"nGQE":[function(require,module,exports) {
module.exports="indoor_shop.4f79812d.png";
},{}],"DF3z":[function(require,module,exports) {
module.exports="indoor_shop_with_paper.44a0a7b0.png";
},{}],"OTdI":[function(require,module,exports) {
module.exports="indoor_shop_with_spray.e9b9cc35.png";
},{}],"dO2A":[function(require,module,exports) {
module.exports="indoor_table.bba87694.png";
},{}],"eIau":[function(require,module,exports) {
module.exports="indoor_toilet.99cded58.png";
},{}],"FRSy":[function(require,module,exports) {
module.exports="outdoor_gras.657b9cee.png";
},{}],"pU7t":[function(require,module,exports) {
module.exports="outdoor_gras_with_paper.c57ab740.png";
},{}],"OOEk":[function(require,module,exports) {
module.exports="outdoor_gras_with_spray.7efa784a.png";
},{}],"R4o0":[function(require,module,exports) {
module.exports="outdoor_klopapier.12aa5d37.png";
},{}],"G05S":[function(require,module,exports) {
module.exports="outdoor_path_dirt.42c23302.png";
},{}],"nt1q":[function(require,module,exports) {
module.exports="outdoor_path_dirt_with_paper.643baade.png";
},{}],"fUtU":[function(require,module,exports) {
module.exports="outdoor_path_dirt_with_spray.5159345c.png";
},{}],"K6Hl":[function(require,module,exports) {
module.exports="outdoor_path_road.5422d926.png";
},{}],"Do5C":[function(require,module,exports) {
module.exports="outdoor_path_road_sprayed.a1242999.png";
},{}],"MUXe":[function(require,module,exports) {
module.exports="outdoor_path_road_with_paper.834d213f.png";
},{}],"B2U8":[function(require,module,exports) {
module.exports="outdoor_path_road_with_spray.a1242999.png";
},{}],"Jg6q":[function(require,module,exports) {
module.exports="toilet.99cded58.png";
},{}],"pMZ7":[function(require,module,exports) {
module.exports="level1.d90e2c8d.png";
},{}],"KuGR":[function(require,module,exports) {
module.exports="level2.f0258b3f.png";
},{}],"LVgG":[function(require,module,exports) {
module.exports="level3.757ba937.png";
},{}],"RGxE":[function(require,module,exports) {
module.exports="level4.9a0870ad.png";
},{}],"LLjf":[function(require,module,exports) {
module.exports="level5.1efe6329.png";
},{}],"CrZn":[function(require,module,exports) {
module.exports="level6.a331947f.png";
},{}],"SZV5":[function(require,module,exports) {
module.exports="level7.e397dc45.png";
},{}],"WD3I":[function(require,module,exports) {
module.exports="level8.6553a133.png";
},{}],"So0T":[function(require,module,exports) {
module.exports="level9.270ca0e1.png";
},{}],"r2Xy":[function(require,module,exports) {
module.exports="smiley_down.5dd3209e.png";
},{}],"DWbv":[function(require,module,exports) {
module.exports="smiley_left.4fb74aab.png";
},{}],"aiH2":[function(require,module,exports) {
module.exports="smiley_leftpng.4fb74aab.png";
},{}],"KQnr":[function(require,module,exports) {
module.exports="smiley_right.e0b4c878.png";
},{}],"VyLQ":[function(require,module,exports) {
module.exports="smiley_up.555ce760.png";
},{}],"jgge":[function(require,module,exports) {
module.exports="virus.e2da1cc4.png";
},{}],"pzNn":[function(require,module,exports) {
module.exports={pallete:require("./..\\pallete.png"),effect:{fire:require("./..\\effect\\fire.png"),spray:require("./..\\effect\\spray.png"),infect:require("./..\\effect\\infect.png")},maps:{map1:require("./..\\maps\\map1.png"),map2:require("./..\\maps\\map2.png"),map3:require("./..\\maps\\map3.png"),map4:require("./..\\maps\\map4.png"),map5:require("./..\\maps\\map5.png"),map6:require("./..\\maps\\map6.png"),map7:require("./..\\maps\\map7.png"),map8:require("./..\\maps\\map8.png"),map9:require("./..\\maps\\map9.png")},object:{furniture1:require("./..\\object\\furniture1.png"),furniture2:require("./..\\object\\furniture2.png"),furniture4:require("./..\\object\\furniture4.png"),klopapier:require("./..\\object\\klopapier.png"),moon:require("./..\\object\\moon.png"),furniture3:require("./..\\object\\furniture3.png"),nudel2:require("./..\\object\\nudel2.png"),nudel3:require("./..\\object\\nudel3.png"),nudel:require("./..\\object\\nudel.png"),nudel4:require("./..\\object\\nudel4.png"),paper_roll:require("./..\\object\\paper_roll.png"),paper_roll_half:require("./..\\object\\paper_roll_half.png"),paper_roll_last:require("./..\\object\\paper_roll_last.png"),single_paper:require("./..\\object\\single_paper.png"),spray:require("./..\\object\\spray.png"),sprayed:require("./..\\object\\sprayed.png"),sun:require("./..\\object\\sun.png"),table:require("./..\\object\\table.png"),wall:require("./..\\object\\wall.png"),wall2:require("./..\\object\\wall2.png")},other:{error:require("./..\\other\\error.png"),splashart:require("./..\\other\\splashart.png")},terrain:{indoor_empty_clinical_pallette:require("./..\\terrain\\indoor_empty_clinical_pallette.png"),indoor_empty_pallette:require("./..\\terrain\\indoor_empty_pallette.png"),indoor_shop:require("./..\\terrain\\indoor_shop.png"),indoor_shop_with_paper:require("./..\\terrain\\indoor_shop_with_paper.png"),indoor_shop_with_spray:require("./..\\terrain\\indoor_shop_with_spray.png"),indoor_table:require("./..\\terrain\\indoor_table.png"),indoor_toilet:require("./..\\terrain\\indoor_toilet.png"),outdoor_gras:require("./..\\terrain\\outdoor_gras.png"),outdoor_gras_with_paper:require("./..\\terrain\\outdoor_gras_with_paper.png"),outdoor_gras_with_spray:require("./..\\terrain\\outdoor_gras_with_spray.png"),outdoor_klopapier:require("./..\\terrain\\outdoor_klopapier.png"),outdoor_path_dirt:require("./..\\terrain\\outdoor_path_dirt.png"),outdoor_path_dirt_with_paper:require("./..\\terrain\\outdoor_path_dirt_with_paper.png"),outdoor_path_dirt_with_spray:require("./..\\terrain\\outdoor_path_dirt_with_spray.png"),outdoor_path_road:require("./..\\terrain\\outdoor_path_road.png"),outdoor_path_road_sprayed:require("./..\\terrain\\outdoor_path_road_sprayed.png"),outdoor_path_road_with_paper:require("./..\\terrain\\outdoor_path_road_with_paper.png"),outdoor_path_road_with_spray:require("./..\\terrain\\outdoor_path_road_with_spray.png"),toilet:require("./..\\terrain\\toilet.png")},tutorial:{level1:require("./..\\tutorial\\level1.png"),level2:require("./..\\tutorial\\level2.png"),level3:require("./..\\tutorial\\level3.png"),level4:require("./..\\tutorial\\level4.png"),level5:require("./..\\tutorial\\level5.png"),level6:require("./..\\tutorial\\level6.png"),level7:require("./..\\tutorial\\level7.png"),level8:require("./..\\tutorial\\level8.png"),level9:require("./..\\tutorial\\level9.png")},unit:{smiley_down:require("./..\\unit\\smiley_down.png"),smiley_left:require("./..\\unit\\smiley_left.png"),smiley_leftpng:require("./..\\unit\\smiley_leftpng.png"),smiley_right:require("./..\\unit\\smiley_right.png"),smiley_up:require("./..\\unit\\smiley_up.png"),virus:require("./..\\unit\\virus.png")}};
},{"./..\\pallete.png":"YZWB","./..\\effect\\fire.png":"P5oC","./..\\effect\\spray.png":"Wycj","./..\\effect\\infect.png":"Y3iP","./..\\maps\\map1.png":"LbHn","./..\\maps\\map2.png":"ltfm","./..\\maps\\map3.png":"liJu","./..\\maps\\map4.png":"fPb7","./..\\maps\\map5.png":"z9Ha","./..\\maps\\map6.png":"KQEH","./..\\maps\\map7.png":"CYme","./..\\maps\\map8.png":"d0DO","./..\\maps\\map9.png":"hj7Q","./..\\object\\furniture1.png":"SXqv","./..\\object\\furniture2.png":"Lp0c","./..\\object\\furniture4.png":"E2UW","./..\\object\\klopapier.png":"J9XY","./..\\object\\moon.png":"CFaY","./..\\object\\furniture3.png":"KO1f","./..\\object\\nudel2.png":"ky7R","./..\\object\\nudel3.png":"NnAj","./..\\object\\nudel.png":"lHiy","./..\\object\\nudel4.png":"Djrt","./..\\object\\paper_roll.png":"GD7C","./..\\object\\paper_roll_half.png":"DEUu","./..\\object\\paper_roll_last.png":"lzrB","./..\\object\\single_paper.png":"VTxr","./..\\object\\spray.png":"aCjQ","./..\\object\\sprayed.png":"smG2","./..\\object\\sun.png":"daOw","./..\\object\\table.png":"HMmi","./..\\object\\wall.png":"jhZR","./..\\object\\wall2.png":"KxCF","./..\\other\\error.png":"qp57","./..\\other\\splashart.png":"d11t","./..\\terrain\\indoor_empty_clinical_pallette.png":"vhAp","./..\\terrain\\indoor_empty_pallette.png":"WWuW","./..\\terrain\\indoor_shop.png":"nGQE","./..\\terrain\\indoor_shop_with_paper.png":"DF3z","./..\\terrain\\indoor_shop_with_spray.png":"OTdI","./..\\terrain\\indoor_table.png":"dO2A","./..\\terrain\\indoor_toilet.png":"eIau","./..\\terrain\\outdoor_gras.png":"FRSy","./..\\terrain\\outdoor_gras_with_paper.png":"pU7t","./..\\terrain\\outdoor_gras_with_spray.png":"OOEk","./..\\terrain\\outdoor_klopapier.png":"R4o0","./..\\terrain\\outdoor_path_dirt.png":"G05S","./..\\terrain\\outdoor_path_dirt_with_paper.png":"nt1q","./..\\terrain\\outdoor_path_dirt_with_spray.png":"fUtU","./..\\terrain\\outdoor_path_road.png":"K6Hl","./..\\terrain\\outdoor_path_road_sprayed.png":"Do5C","./..\\terrain\\outdoor_path_road_with_paper.png":"MUXe","./..\\terrain\\outdoor_path_road_with_spray.png":"B2U8","./..\\terrain\\toilet.png":"Jg6q","./..\\tutorial\\level1.png":"pMZ7","./..\\tutorial\\level2.png":"KuGR","./..\\tutorial\\level3.png":"LVgG","./..\\tutorial\\level4.png":"RGxE","./..\\tutorial\\level5.png":"LLjf","./..\\tutorial\\level6.png":"CrZn","./..\\tutorial\\level7.png":"SZV5","./..\\tutorial\\level8.png":"WD3I","./..\\tutorial\\level9.png":"So0T","./..\\unit\\smiley_down.png":"r2Xy","./..\\unit\\smiley_left.png":"DWbv","./..\\unit\\smiley_leftpng.png":"aiH2","./..\\unit\\smiley_right.png":"KQnr","./..\\unit\\smiley_up.png":"VyLQ","./..\\unit\\virus.png":"jgge"}],"n9mu":[function(require,module,exports) {
"use strict";var _;Object.defineProperty(exports,"__esModule",{value:!0}),function(_){_[_.TERRAIN__INDOOR_SHOP=0]="TERRAIN__INDOOR_SHOP",_[_.TERRAIN__OUTDOOR_GRAS=1]="TERRAIN__OUTDOOR_GRAS",_[_.TERRAIN__OUTDOOR_PATH_DIRT=2]="TERRAIN__OUTDOOR_PATH_DIRT",_[_.TERRAIN__OUTDOOR_PATH_ROAD=3]="TERRAIN__OUTDOOR_PATH_ROAD",_[_.TERRAIN__INDOOR_SHOP_WITH_PAPER=4]="TERRAIN__INDOOR_SHOP_WITH_PAPER",_[_.TERRAIN__OUTDOOR_GRAS_WITH_PAPER=5]="TERRAIN__OUTDOOR_GRAS_WITH_PAPER",_[_.TERRAIN__OUTDOOR_PATH_DIRT_WITH_PAPER=6]="TERRAIN__OUTDOOR_PATH_DIRT_WITH_PAPER",_[_.TERRAIN__OUTDOOR_PATH_ROAD_WITH_PAPER=7]="TERRAIN__OUTDOOR_PATH_ROAD_WITH_PAPER",_[_.TERRAIN__INDOOR_SHOP_WITH_SPRAY=8]="TERRAIN__INDOOR_SHOP_WITH_SPRAY",_[_.TERRAIN__OUTDOOR_GRAS_WITH_SPRAY=9]="TERRAIN__OUTDOOR_GRAS_WITH_SPRAY",_[_.TERRAIN__OUTDOOR_PATH_DIRT_WITH_SPRAY=10]="TERRAIN__OUTDOOR_PATH_DIRT_WITH_SPRAY",_[_.TERRAIN__OUTDOOR_PATH_ROAD_WITH_SPRAY=11]="TERRAIN__OUTDOOR_PATH_ROAD_WITH_SPRAY",_[_.TERRAIN__INDOOR_TOILET=12]="TERRAIN__INDOOR_TOILET",_[_.TERRAIN__INDOOR_EMPTY_PALLETTE=13]="TERRAIN__INDOOR_EMPTY_PALLETTE",_[_.TERRAIN__INDOOR_EMPTY_CLINICAL_PALLETTE=14]="TERRAIN__INDOOR_EMPTY_CLINICAL_PALLETTE",_[_.TERRAIN__INDOOR_TABLE=15]="TERRAIN__INDOOR_TABLE",_[_.OBJECT__PAPER_ROLL=16]="OBJECT__PAPER_ROLL",_[_.OBJECT__PAPER_ROLL_HALF=17]="OBJECT__PAPER_ROLL_HALF",_[_.OBJECT__PAPER_ROLL_LAST=18]="OBJECT__PAPER_ROLL_LAST",_[_.OBJECT__SINGLE_PAPER=19]="OBJECT__SINGLE_PAPER",_[_.OBJECT__SPRAY=20]="OBJECT__SPRAY",_[_.OBJECT__SPRAYED=21]="OBJECT__SPRAYED",_[_.OBJECT__WALL2=22]="OBJECT__WALL2",_[_.OBJECT__FURNITURE1=23]="OBJECT__FURNITURE1",_[_.OBJECT__NUDEL4=24]="OBJECT__NUDEL4",_[_.OBJECT__MOON=25]="OBJECT__MOON",_[_.OBJECT__SUN=26]="OBJECT__SUN",_[_.EFFECT__INFECT=27]="EFFECT__INFECT",_[_.EFFECT__FIRE=28]="EFFECT__FIRE",_[_.EFFECT__SPRAY=29]="EFFECT__SPRAY",_[_.UNIT__SMILEY_LEFT=30]="UNIT__SMILEY_LEFT",_[_.UNIT__SMILEY_UP=31]="UNIT__SMILEY_UP",_[_.UNIT__SMILEY_RIGHT=32]="UNIT__SMILEY_RIGHT",_[_.UNIT__SMILEY_DOWN=33]="UNIT__SMILEY_DOWN",_[_.UNIT__VIRUS=34]="UNIT__VIRUS",_[_.MAPS__MAP1=35]="MAPS__MAP1",_[_.MAPS__MAP2=36]="MAPS__MAP2",_[_.MAPS__MAP3=37]="MAPS__MAP3",_[_.MAPS__MAP4=38]="MAPS__MAP4",_[_.MAPS__MAP5=39]="MAPS__MAP5",_[_.MAPS__MAP6=40]="MAPS__MAP6",_[_.MAPS__MAP7=41]="MAPS__MAP7",_[_.MAPS__MAP8=42]="MAPS__MAP8",_[_.MAPS__MAP9=43]="MAPS__MAP9",_[_.TUTORIAL__LEVEL1=44]="TUTORIAL__LEVEL1",_[_.TUTORIAL__LEVEL2=45]="TUTORIAL__LEVEL2",_[_.TUTORIAL__LEVEL3=46]="TUTORIAL__LEVEL3",_[_.TUTORIAL__LEVEL4=47]="TUTORIAL__LEVEL4",_[_.TUTORIAL__LEVEL5=48]="TUTORIAL__LEVEL5",_[_.TUTORIAL__LEVEL6=49]="TUTORIAL__LEVEL6",_[_.TUTORIAL__LEVEL7=50]="TUTORIAL__LEVEL7",_[_.TUTORIAL__LEVEL8=51]="TUTORIAL__LEVEL8",_[_.TUTORIAL__LEVEL9=52]="TUTORIAL__LEVEL9",_[_.OTHER__ERROR=53]="OTHER__ERROR"}(_=exports.ImageID||(exports.ImageID={})),exports.image_resources=function(){var T=require("./images/**/*.png"),R={};return Object.keys(_).filter(function(T){return"number"==typeof _[T]}).forEach(function(E){for(var A=E.toLowerCase().split("__"),O=T;A.length>0;){var I=A.shift();if(void 0===I||I in O==!1)throw new Error("Image not found "+E);O=O[I]}R[_[E]]=O}),R}();
},{"./images/**/*.png":"pzNn"}],"Am7D":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{u(n.next(e))}catch(t){i(t)}}function s(e){try{u(n.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,s)}u((n=n.apply(e,t||[])).next())})},t=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},r=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(exports,"__esModule",{value:!0});var n=require("../ts_library/ui/Listener"),o=require("../assets/ImageResources"),i=function(){function i(e){var t=this;this.loaded_images_count=0,this.all_images_count=0,this.images=new Map,this.on_progress_listener=new n.ListenerSocket,Object.entries(e).forEach(function(e){var n=r(e,2),i=n[0],a=n[1],s=parseInt(i);t.all_images_count++;var u=new Image;u.src=a,u.onload=function(){t.images.set(parseInt(i),u),t.loaded_images_count++,t.on_progress_listener.trigger_event([t.get_loaded_percent(),u])},u.onerror=function(){u.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAA3NCSVQICAjb4U/gAAAABlBMVEX/////AADrWueTAAAAAXRSTlMAQObYZgAAAAlwSFlzAAAuIwAALiMBeKU/dgAAADpJREFUeNpjYEQDDECEBEACDEgiUC4jgg+VZ4TzYRqQCUaEYmQBuGU4BdC1oBuKbi26w9CdjuE5NAAAL9AAWd4tUzwAAAAASUVORK5CYII=",t.images.set(parseInt(i),u),t.loaded_images_count++,t.on_progress_listener.trigger_event([t.get_loaded_percent(),u]),console.error("Image not correctly loaded: "+o.ImageID[s]+" => "+a)}})}return i.prototype.get=function(e){var t=this.images.get(e);if(!t)throw new Error('Image with ID "'+e+'" does not exist.');return t},i.prototype.wait_until_loaded=function(){return e(this,void 0,void 0,function(){var e=this;return t(this,function(t){return[2,new Promise(function(t){e.is_loaded()?t(e.loaded_images_count):e.on_progress_listener.add(function(){e.is_loaded()&&t(e.loaded_images_count)})})]})})},i.prototype.is_loaded=function(){return this.all_images_count===this.loaded_images_count},i.prototype.get_loaded_percent=function(){return this.loaded_images_count/this.all_images_count},i}();exports.default=i;
},{"../ts_library/ui/Listener":"kZHg","../assets/ImageResources":"n9mu"}],"SvKx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(t,e){void 0===t&&(t=60),void 0===e&&(e=60),this.last_time_stamp=performance.now(),this.steps_until_update=this.average_over_x_frames=t,this.current_fps=e}return t.prototype.get_current_fps=function(){return this.current_fps},t.prototype.update=function(){if(this.steps_until_update--<0){var t=performance.now(),e=t-this.last_time_stamp,s=this.average_over_x_frames/e;this.current_fps=1e3*s,this.steps_until_update=this.average_over_x_frames,this.last_time_stamp=t}},t}();exports.default=t;
},{}],"EbgX":[function(require,module,exports) {
"use strict";var e;function r(r){switch(r){case e.LEFT:return e.RIGHT;case e.RIGHT:return e.LEFT;case e.UP:return e.DOWN;case e.DOWN:return e.UP}}Object.defineProperty(exports,"__esModule",{value:!0}),function(e){e[e.LEFT=0]="LEFT",e[e.UP=1]="UP",e[e.RIGHT=2]="RIGHT",e[e.DOWN=3]="DOWN"}(e=exports.Direction||(exports.Direction={})),exports.direction_invert=r;
},{}],"kRKL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../../ts_library/space/Direction"),t=function(){function t(e){var t=this;this.game_over=!1,this.buffer_action="",this.on_focus=function(e){document.body.style.overflow="hidden"},this.on_blur=function(e){document.body.style.overflow="auto"},this.element=e,this.element.onkeydown=function(e){t.on_interact&&t.on_interact();var n=e.code||e.key;"Escape"!==n?"Space"!==n&&"Spacebar"!==n&&" "!==n?t.game_over||(!1===t.try_action(n)?t.buffer_action=n:t.buffer_action=""):t.on_pause&&t.on_pause():t.on_request_menu&&t.on_request_menu()},this.element.onclick=function(){t.on_interact&&t.on_interact()},e===document.activeElement&&this.on_focus(),e.addEventListener("focus",this.on_focus),e.addEventListener("blur",this.on_blur)}return t.prototype.try_action=function(t){switch(t){case"ArrowLeft":if(this.on_direction_input)return this.on_direction_input(e.Direction.LEFT);break;case"ArrowUp":if(this.on_direction_input)return this.on_direction_input(e.Direction.UP);break;case"ArrowRight":if(this.on_direction_input)return this.on_direction_input(e.Direction.RIGHT);break;case"ArrowDown":if(this.on_direction_input)return this.on_direction_input(e.Direction.DOWN);break;case"q":case"Q":case"KeyQ":this.on_use_spray&&this.on_use_spray();break;case"w":case"W":case"KeyW":this.on_use_paper&&this.on_use_paper();break;case"e":case"E":case"KeyE":this.on_eat&&this.on_eat()}return!0},t}();exports.InputDelegator=t;
},{"../../ts_library/space/Direction":"EbgX"}],"c0W6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../../ts_library/ui/Listener"),t=function(){function t(){}return t.prototype.handle=function(e){},t.events=new e.ListenerSocket,t}();exports.default=t;
},{"../../ts_library/ui/Listener":"kZHg"}],"kbIU":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),function(e){e[e.WON=0]="WON",e[e.LOST=1]="LOST",e[e.TIE=2]="TIE"}(e=exports.GameResult||(exports.GameResult={}));
},{}],"fgAD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(t,o){this.x=t,this.y=o}return t.prototype.add=function(o){return new t(this.x+o.x,this.y+o.y)},t.prototype.sub=function(o){return new t(this.x-o.x,this.y-o.y)},t.prototype.mul=function(o){return"number"==typeof o?new t(this.x*o,this.y*o):new t(this.x*o.x,this.y*o.y)},t.prototype.distance2=function(){return this.x*this.x+this.y*this.y},t.prototype.equals=function(o,i,n){if(o instanceof t)n=i||0,i=o.y,o=o.x;else{if(void 0===i)throw new Error("Invalid Parameters to call");n=n||0}return Math.abs(this.x-o)<=n&&Math.abs(this.y-i)<=n},t.prototype.move_by=function(o,i){if(o instanceof t&&(i=o.y,o=o.x),void 0===i)throw new Error("Invalid Parameters to call");return this.x+=o,this.y+=i,this},t.prototype.copy=function(){return new t(this.x,this.y)},t.prototype.map=function(o){return new t(o(this.x),o(this.y))},t.create_random_direction=function(){return new t(Math.trunc(3*Math.random())-1,Math.trunc(3*Math.random())-1)},t.create_random_direction_non_diagonal=function(){switch(Math.trunc(4*Math.random())){case 0:return new t(1,0);case 1:return new t(-1,0);case 2:return new t(0,-1);case 3:return new t(0,1);default:throw new Error("???")}},t}();exports.Point=t;var o=function(){function o(t,o,i,n){this.left=Math.min(t,i),this.top=Math.min(o,n),this.right=Math.max(t,i),this.bottom=Math.max(o,n)}return o.prototype.left_top=function(){return new t(this.left,this.top)},o.prototype.right_top=function(){return new t(this.right,this.top)},o.prototype.left_bottom=function(){return new t(this.left,this.bottom)},o.prototype.right_bottom=function(){return new t(this.right,this.bottom)},o.prototype.width=function(){return this.right-this.left},o.prototype.height=function(){return this.bottom-this.top},o.prototype.center=function(){return new t((this.left+this.right)/2,(this.top+this.bottom)/2)},o.prototype.get_values_ltrb=function(){return[this.left,this.top,this.right,this.bottom]},o.prototype.get_random_point=function(){return new t(this.left+Math.random()*this.width(),this.top+Math.random()*this.height())},o.prototype.move_by=function(t,o){return this.left+=t,this.right+=t,this.top+=o,this.bottom+=o,this},o.prototype.for_each_point_in_rect=function(o){for(var i=this.left;i<=this.right;++i)for(var n=this.top;n<=this.bottom;++n)o(new t(i,n))},o.prototype.map_points_in_rect=function(o){for(var i=new Array(this.width()*this.height()),n=0,r=this.left;r<=this.right;++r)for(var e=this.top;e<=this.bottom;++e)i[n]=o(new t(r,e)),++n;return i},o.prototype.set_center=function(t){var o=this.center(),i=t.sub(o);return this.move_by(i.x,i.y)},o.prototype.get_inner_rect=function(t){return new o(this.left+t,this.top+t,this.right-t,this.bottom-t)},o.prototype.is_containing=function(t){return this.left<=t.x&&this.right>=t.x&&this.top<=t.y&&this.bottom>=t.y},o.prototype.is_equal=function(t){return this.left===t.left&&this.right===t.right&&this.top===t.top&&this.bottom===t.bottom},o.prototype.is_intersecting=function(t){return this.left<=t.right&&this.right>=t.left&&this.top<=t.bottom&&this.bottom>=t.top},o.prototype.get_intersection=function(t){return this.is_intersecting(t)?o.from_boundries(Math.max(this.left,t.left),Math.max(this.top,t.top),Math.min(this.right,t.right),Math.min(this.bottom,t.bottom)):null},o.from_boundries=function(t,i,n,r){return new o(t,i,n,r)},o.from_point_with_size=function(t,i,n){return new o(t.x-i/2,t.y-n/2,t.x+i/2,t.y+n/2)},o}();exports.Rect=o;
},{}],"SlkT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(){}return t.prototype.update=function(t,e,r){return[]},t.prototype.handle=function(t,e,r){return t},t}();exports.default=t;
},{}],"Rl51":[function(require,module,exports) {
"use strict";var t=this&&this.__read||function(t,n){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var o,r,a=e.call(t),p=[];try{for(;(void 0===n||n-- >0)&&!(o=a.next()).done;)p.push(o.value)}catch(u){r={error:u}}finally{try{o&&!o.done&&(e=a.return)&&e.call(a)}finally{if(r)throw r.error}}return p},n=this&&this.__spread||function(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(t(arguments[e]));return n};Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function t(){this.components=new Map}return t.prototype.add=function(t){return this.components.set(t.constructor.name,t),this},t.prototype.has=function(t){return this.components.has(t.name)},t.prototype.get=function(t){return this.components.get(t.name)},t.prototype.remove=function(t){return this.components.delete(t.name)},t.prototype.update=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];var r=[];return this.components.forEach(function(o){r.push.apply(r,n(o.update.apply(o,n([t],e))))}),r},t.prototype.each=function(t){this.components.forEach(t)},t.prototype.get_all=function(){return n(this.components.values())},t}();exports.default=e;
},{}],"BVhu":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var n=e(require("../components/ComponentContainer")),r=function(e){function n(t){var r=e.call(this)||this;return r.instance_ID=n.next_instance_ID++,r.type=t,r._is_destroyed=!1,n.all_instances[r.instance_ID]=r,r}return t(n,e),n.prototype.destroy=function(){this._is_destroyed=!0,delete n.all_instances[this.instance_ID]},n.prototype.is_destroyed=function(){return this._is_destroyed},n.prototype.handle=function(t,n){var r=this;return e.prototype.get_all.call(this).reduce(function(t,e){return e.handle(t,n,r)},t)},n.prototype.update=function(t,n){return e.prototype.update.call(this,t,this,n)},n.get=function(t){return n.all_instances[t]},n.next_instance_ID=0,n.all_instances=[],n}(n.default);exports.default=r;
},{"../components/ComponentContainer":"Rl51"}],"mo7A":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(){}return e.prototype.before_execute=function(e){return!0},e.prototype.execute=function(e){return e},e}();exports.Task=e;
},{}],"Em0L":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./Task"),r=require("../components/PositionComponent"),o=function(e){function o(t,r,o){var n=e.call(this)||this;return n.source=t,n.target=r,n.object_id=o,n}return t(o,e),o.prototype.before_execute=function(t){var e=this,r=t.world_map.at(e.source);if(!r)return!1;var o=r.objects.findIndex(function(t){return t.instance_ID===e.object_id});if(o<0)return!1;var n=r.objects[o],i=t.world_map.at(e.target);return!!i&&!!this.is_valid_target(n,i)},o.prototype.execute=function(t){var e=this,r=t.world_map.at(e.source);if(!r)return t;var o=t.world_map.at(e.target);if(!o)return t;var n=r.objects.find(function(t){return t.instance_ID===e.object_id});return n?(r.objects=r.objects.filter(function(t){return e.object_id!==t.instance_ID}),o.objects.push(n),t):t},o.prototype.is_valid_target=function(t,e){var o=t.get(r.PositionComponent);return o?e.objects.reduce(function(t,e){if(!t)return!1;var n=e.get(r.PositionComponent);return!!n&&!(o.collision_mask&n.collision_group)},!0):0===e.objects.length},o}(e.Task);exports.MoveObjectTask=o;
},{"./Task":"mo7A","../components/PositionComponent":"SUj7"}],"SUj7":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(o,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(o,e)};return function(o,e){function n(){this.constructor=o}t(o,e),o.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var e,n=o(require("./MapObjectComponent")),r=require("../../ts_library/space/SimpleShapes"),i=require("../tasks/MoveObjectTask");!function(t){t[t.GHOST=0]="GHOST",t[t.COLLECTABLE=1]="COLLECTABLE",t[t.INTERACTABLE=2]="INTERACTABLE",t[t.MOVEABLE=4]="MOVEABLE",t[t.PURIFIED=8]="PURIFIED",t[t.UNPASSABLE=31]="UNPASSABLE"}(e=exports.CollisionGroups||(exports.CollisionGroups={}));var s=function(o){function n(){var t=o.call(this)||this;return t.position=new r.Point(0,0),t.collision_mask=e.GHOST,t.collision_group=e.UNPASSABLE,t}return t(n,o),n.prototype.handle=function(t,o,e){return o instanceof i.MoveObjectTask&&o.object_id===e.instance_ID&&(this.position=o.target),t},n}(n.default);exports.PositionComponent=s;
},{"./MapObjectComponent":"SlkT","../../ts_library/space/SimpleShapes":"fgAD","../tasks/MoveObjectTask":"Em0L"}],"xDlw":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var r=e(require("./MapObjectComponent")),n=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return t(r,e),r}(r.default);exports.default=n;
},{"./MapObjectComponent":"SlkT"}],"URlb":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var r=require("./Task"),n=e(require("../objects/MapObject")),o=e(require("../components/IsCollectableComponent")),i=e(require("../components/InventarComponent")),u=require("../components/PositionComponent"),s=function(e){function r(t,r){var n=e.call(this)||this;return n.picker_id=t,n.target=r,n}return t(r,e),r.prototype.execute=function(t){var e=n.default.get(this.picker_id);if(!e)return t;var r=t.world_map.at(this.target);if(!r)return t;var s=e.get(i.default);return s?(r.objects=r.objects.filter(function(t){return s.items.length>=s.size||(!t.get(o.default)||(t.remove(u.PositionComponent),s.items.push(t.instance_ID),!1))}),t):t},r}(r.Task);exports.default=s;
},{"./Task":"mo7A","../objects/MapObject":"BVhu","../components/IsCollectableComponent":"xDlw","../components/InventarComponent":"hEXs","../components/PositionComponent":"SUj7"}],"HMDK":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var r=require("./Task"),o=e(require("../objects/MapObject")),n=function(e){function r(t){var r=e.call(this)||this;return r.object_id=t,r}return t(r,e),r.prototype.execute=function(t){var e=o.default.get(this.object_id);return e&&e.destroy(),t},r}(r.Task);exports.default=n;
},{"./Task":"mo7A","../objects/MapObject":"BVhu"}],"hEXs":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),e=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),u=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return u},r=this&&this.__spread||function(){for(var t=[],r=0;r<arguments.length;r++)t=t.concat(e(arguments[r]));return t},n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var o=n(require("./MapObjectComponent")),i=n(require("../objects/MapObject")),u=require("./PositionComponent"),a=n(require("./IsCollectableComponent")),s=n(require("../tasks/PickUpItemsTask")),c=n(require("../tasks/DestroyObjectTask")),f=function(e){function n(){var t=e.call(this)||this;return t.money=0,t.items=[],t.size=12,t.holding=null,t}return t(n,e),n.prototype.handle=function(t,e){return e instanceof c.default?(this.items=this.items.filter(function(t){return t!==e.object_id}),t):t},n.prototype.update=function(t,e,n){var o=e.get(u.PositionComponent);if(!o)return[];var i=n.world_map.at(o.position);if(!i)return[];var c=i.objects.filter(function(t){return null!==t.get(a.default)}).map(function(t){return new s.default(e.instance_ID,o.position)});return c.push.apply(c,r(this.update_inventar_items(t,e,n))),c},n.prototype.has=function(t){return this.items.includes(t)},n.prototype.remove=function(t){var e=!1;this.items=this.items.filter(function(r){return!(!e&&r===t)||(e=!0,!1)})},n.prototype.update_inventar_items=function(t,e,r){var o=e.get(n);return o?o.items.flatMap(function(e){var n=i.default.get(e);if(!n)throw new Error("Invalid Object ID in Inventar");return n.update(t,r)}):[]},n}(o.default);exports.default=f;
},{"./MapObjectComponent":"SlkT","../objects/MapObject":"BVhu","./PositionComponent":"SUj7","./IsCollectableComponent":"xDlw","../tasks/PickUpItemsTask":"URlb","../tasks/DestroyObjectTask":"HMDK"}],"ZpDG":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var r=e(require("./MapObjectComponent")),o=require("../../assets/ImageResources"),n=function(e){function r(){var t=e.call(this)||this;return t.image=o.ImageID.OTHER__ERROR,t.icon=o.ImageID.OTHER__ERROR,t.priority=0,t}return t(r,e),r}(r.default);exports.default=n;
},{"./MapObjectComponent":"SlkT","../../assets/ImageResources":"n9mu"}],"sItu":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=require("../../ts_library/space/SimpleShapes"),i=e(require("../../logic/components/InventarComponent")),s=e(require("../../logic/objects/MapObject")),a=require("../../assets/ImageResources"),l=e(require("../../logic/components/VisualComponent")),o=function(){function e(e,i,s,a){this.display_money_height=50,this.display_size=s,this.images=i,this.slot_page_size=a,this.context=e,this.cell_size=new t.Point(this.display_size.x/this.slot_page_size.x,this.display_size.y/this.slot_page_size.y)}return e.prototype.display=function(e){var t=this;this.context.translate(650,0);var s=e.get(i.default);if(s){this.context.font="32px",this.context.fillStyle="yellow",this.context.fillStyle="#4e220d",this.context.fillRect(0,0,this.display_size.x,this.display_size.y);var a=this.slot_page_size.x*this.slot_page_size.y;s.items.slice(0,a).forEach(function(e,i){var s=i%t.slot_page_size.x,a=Math.trunc(i/t.slot_page_size.x),l=Math.min(t.cell_size.x,t.cell_size.y),o=s*t.cell_size.x+(t.cell_size.x-l)/2,r=a*t.cell_size.y+(t.cell_size.y-l)/2,n=t.get_image_for_inventar_item(e);t.context.drawImage(n,o,r,l,l)})}this.context.setTransform(1,0,0,1,0,0)},e.prototype.get_image_for_inventar_item=function(e){var t=s.default.get(e);if(!t)return this.images.get(a.ImageID.OTHER__ERROR);var i=t.get(l.default);if(!i)return this.images.get(a.ImageID.OTHER__ERROR);var o=this.images.get(i.icon);return o||this.images.get(a.ImageID.OTHER__ERROR)},e}();exports.default=o;
},{"../../ts_library/space/SimpleShapes":"fgAD","../../logic/components/InventarComponent":"hEXs","../../logic/objects/MapObject":"BVhu","../../assets/ImageResources":"n9mu","../../logic/components/VisualComponent":"ZpDG"}],"V2d0":[function(require,module,exports) {
"use strict";function r(r,e){var t=r;return function(n){for(t-=n;t<0;)t+=r,e()}}function e(r){var e=r;return function(t){return(e-=t)<0&&(e+=r,!0)}}function t(r){var e=0,t=r,n=new Array;return function(o){for(t-=o;t<0;)t+=r,n.push(e++);return n}}function n(r){var e=r;return function(t){var n=new Array,o=0;for(e-=t;e<0;)e+=r,n.push(o++);return n}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.create_timed_function=r,exports.create_timed_boolean=e,exports.create_timed_array=t,exports.create_timed_array_elements=n;
},{}],"mUmB":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var r=e(require("./MapObjectComponent")),n=e(require("../tasks/DestroyObjectTask")),o=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.current=10,t.max=10,t}return t(r,e),r.prototype.update=function(t,e){return this.current<=0?[new n.default(e.instance_ID)]:[]},r}(r.default);exports.default=o;
},{"./MapObjectComponent":"SlkT","../tasks/DestroyObjectTask":"HMDK"}],"oEgK":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var r=require("./Task"),n=e(require("../objects/MapObject")),o=e(require("../components/HitPointsComponent")),u=function(e){function r(t,r){var n=e.call(this)||this;return n.target_id=t,n.amount=r,n}return t(r,e),r.prototype.execute=function(t){var e=n.default.get(this.target_id);if(!e)return t;var r=e.get(o.default);return r?(r.current-=this.amount,t):t},r}(r.Task);exports.default=u;
},{"./Task":"mo7A","../objects/MapObject":"BVhu","../components/HitPointsComponent":"mUmB"}],"psSw":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var r=e(require("./MapObjectComponent")),n=require("../../ts_library/utility/Timed"),o=e(require("../tasks/DamageObjectTask")),i=function(e){function r(t){var r=e.call(this)||this;return r.urge_to_eat=0,r.ticks_before_damage=0,r.every_second=n.create_timed_array_elements(1),r.object_id=t.instance_ID,r}return t(r,e),r.prototype.update=function(t){var e=this;return this.urge_to_eat=Math.min(this.urge_to_eat+2*t,100),this.urge_to_eat<100?[]:this.every_second(t).map(function(){return new o.default(e.object_id,.25)})},r}(r.default);exports.default=i;
},{"./MapObjectComponent":"SlkT","../../ts_library/utility/Timed":"V2d0","../tasks/DamageObjectTask":"oEgK"}],"Pvd8":[function(require,module,exports) {
"use strict";var t=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var e=t(require("../../logic/components/HungerComponent")),i=function(){function t(t,e,i){this.context=t,this.images=e,this.display_rect=i}return t.prototype.display=function(t){var i=t.get(e.default);if(i){var s=this.display_rect.width(),l=1-i.urge_to_eat/100;this.context.font="32px sans-serif",this.context.fillStyle="gray",this.context.fillRect(this.display_rect.left,this.display_rect.top,s,this.display_rect.height()),this.context.fillStyle="yellow",this.context.fillRect(this.display_rect.left,this.display_rect.top,l*s,this.display_rect.height()),this.context.fillStyle="black",this.context.fillText("Hunger",Math.max(10,l*s-130),this.display_rect.top+this.display_rect.height()/2+12)}},t}();exports.default=i;
},{"../../logic/components/HungerComponent":"psSw"}],"W3w5":[function(require,module,exports) {
"use strict";var t=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var e=t(require("../../logic/components/HitPointsComponent")),i=function(){function t(t,e,i){this.context=t,this.images=e,this.display_rect=i}return t.prototype.display=function(t){var i=t.get(e.default);if(i){var s=this.display_rect.width(),l=Math.max(0,i.current)/i.max;this.context.font="32px sans-serif",this.context.fillStyle="gray",this.context.fillRect(this.display_rect.left,this.display_rect.top,s,this.display_rect.height()),this.context.fillStyle="red",this.context.fillRect(this.display_rect.left,this.display_rect.top,s*l,this.display_rect.height()),this.context.fillStyle="black",this.context.fillText("Health",Math.max(10,l*s-130),this.display_rect.top+this.display_rect.height()/2+12)}},t}();exports.default=i;
},{"../../logic/components/HitPointsComponent":"mUmB"}],"ksSS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("../../assets/ImageResources"),a=function(){function a(t,a,e){this.context=t,this.images=a,this.display_rect=e}return a.prototype.display=function(a,e){var i=this.images.get(t.ImageID.OBJECT__MOON),s=this.images.get(t.ImageID.OBJECT__SUN),h=this.display_rect.center(),n=this.display_rect.width()/2-16,o=this.display_rect.height()/2-16,c=Math.min(1,Math.max(-.1,Math.sin((a-.25)*Math.PI*2))+.2),l=Math.min(1,Math.max(-.1,-Math.sin((a-.25)*Math.PI*2))+.2),r=h.x-Math.sin(a*Math.PI*2)*n-16,x=h.y+Math.cos(a*Math.PI*2)*o-16,M=h.x+Math.sin(a*Math.PI*2)*n-16,p=h.y-Math.cos(a*Math.PI*2)*o-16;this.context.globalAlpha=c,this.context.drawImage(s,r,x,32,32),this.context.globalAlpha=l,this.context.drawImage(i,M,p,32,32),this.context.globalAlpha=1,this.context.font="24px fantasy",this.context.fillStyle="white",this.context.fillText("Day "+e,h.x-this.display_rect.width()/5,h.y+8)},a}();exports.default=a;
},{"../../assets/ImageResources":"n9mu"}],"S3Ae":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(t,e,i){this.context=t,this.images=e,this.display_rect=i}return t.prototype.display=function(t){t<20?this.context.fillStyle="white":t<40?this.context.fillStyle="green":t<100?this.context.fillStyle="orange":t<250&&(this.context.fillStyle="red"),this.context.font="32px monospace",this.context.fillText("Count: "+t,this.display_rect.left,this.display_rect.top+this.display_rect.height()/2+12)},t}();exports.default=t;
},{}],"fYsn":[function(require,module,exports) {
"use strict";function e(e){return function(t,n){return function(t){e.font="32px monospace",e.fillStyle="red",e.fillText(t.toFixed(2),20,20)}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"vnHf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("../../ts_library/space/SimpleShapes"),e=function(){function e(){this._map_source_rect=t.Rect.from_boundries(0,0,1,1),this._display_target_rect=t.Rect.from_boundries(0,0,1,1)}return Object.defineProperty(e.prototype,"map_source_rect",{get:function(){return this._map_source_rect},set:function(t){this._map_source_rect=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"display_target_rect",{get:function(){return this._display_target_rect},set:function(t){this._display_target_rect=t},enumerable:!0,configurable:!0}),e.prototype.get_field_size_in_pixels=function(){return{x:this.display_target_rect.width()/this.map_source_rect.width(),y:this.display_target_rect.height()/this.map_source_rect.height()}},e.prototype.get_camera_without_stretching=function(){var t=this.get_field_size_in_pixels(),r=new e;r.map_source_rect=this.map_source_rect,r.display_target_rect=this.display_target_rect;var i=(t.x-t.y)*this.map_source_rect.width(),_=(t.y-t.x)*this.map_source_rect.height();return i>0?(r.display_target_rect.move_by(i/2,0),r.display_target_rect.right-=i):_>0&&(r.display_target_rect.move_by(0,_),r.display_target_rect.bottom-=_),r},e}();exports.Camera=e;var r=function(){return function(t,r){this.context=t,this.image_manager=r,this.camera=new e}}();exports.WorldMapVisualizer=r;
},{"../../ts_library/space/SimpleShapes":"fgAD"}],"JHBG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../../../ts_library/space/SimpleShapes"),t=require("../WorldMapVisualizer"),i=function(){function i(i,r){var _=this;this.camera=new t.Camera,this.next_field_pixel_size={x:32,y:32},this.next_field_screen_position=new e.Point(0,0),this.partial_field_drawers=[],this.draw_part_field_function=function(t,i){void 0===i&&(i=new e.Point(0,0));var r=_.next_field_pixel_size,a=_.next_field_screen_position.add(i.mul(r));_.context.drawImage(t,a.x,a.y,r.x,r.y)},this.context=i,this.image_manager=r}return i.prototype.get_visual_data_for_field=function(e){return{}},i.prototype.add=function(e){this.partial_field_drawers.push(e)},i.prototype.get_drawer_functions=function(){var e=this,t=this.camera.get_camera_without_stretching();return this.next_field_pixel_size=t.get_field_size_in_pixels(),this.partial_field_drawers.map(function(i){return function(r){var _=e.get_visual_data_for_field(r);e.next_field_screen_position=r.location.sub(t.map_source_rect.left_top()).mul(e.next_field_pixel_size).add(t.display_target_rect.left_top()),i.draw(e.draw_part_field_function,r,_)}})},i}();exports.default=i;
},{"../../../ts_library/space/SimpleShapes":"fgAD","../WorldMapVisualizer":"vnHf"}],"cAzr":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),function(e){e[e.INDOOR_SHOP=0]="INDOOR_SHOP",e[e.OUTDOOR_GRAS=1]="OUTDOOR_GRAS"}(e=exports.TerrainTypeID||(exports.TerrainTypeID={}));
},{}],"SAPV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){return function(){}}();exports.FieldPartDrawer=e;
},{}],"OL76":[function(require,module,exports) {
"use strict";var e=this&&this.__extends||function(){var e=function(r,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])})(r,t)};return function(r,t){function n(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(exports,"__esModule",{value:!0});var r=require("../../../assets/ImageResources"),t=require("../../../assets/TerrainResources"),n=require("./FieldPartDrawer"),a=function(n){function a(e){var r=n.call(this)||this;return r.images=e,r}return e(a,n),a.prototype.draw=function(e,r,t){var n=a.get_image_for_terrain_type(r.terrain);null!==n&&e(this.images.get(n))},a.get_image_for_terrain_type=function(e){switch(e.type){case t.TerrainTypeID.INDOOR_SHOP:return r.ImageID.TERRAIN__INDOOR_SHOP;case t.TerrainTypeID.OUTDOOR_GRAS:return r.ImageID.TERRAIN__OUTDOOR_GRAS;default:return null}},a}(n.FieldPartDrawer);exports.TerrainDrawer=a;
},{"../../../assets/ImageResources":"n9mu","../../../assets/TerrainResources":"cAzr","./FieldPartDrawer":"SAPV"}],"BWOB":[function(require,module,exports) {
"use strict";var L;Object.defineProperty(exports,"__esModule",{value:!0}),function(L){L[L.PLAYER=0]="PLAYER",L[L.PAPER_ROLL=1]="PAPER_ROLL",L[L.PAPER_BLOB=2]="PAPER_BLOB",L[L.SPRAY=3]="SPRAY",L[L.SPRAY_BLOB=4]="SPRAY_BLOB",L[L.NUDEL=5]="NUDEL",L[L.VIRUS=6]="VIRUS",L[L.WALL=7]="WALL",L[L.FURNITURE1=8]="FURNITURE1",L[L.DISH=9]="DISH",L[L.TOILET=10]="TOILET",L[L.CLINICAL_PALLETTE=11]="CLINICAL_PALLETTE"}(L=exports.MapObjectTypeID||(exports.MapObjectTypeID={}));
},{}],"XFiS":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var o=e(require("./MapObjectComponent")),r=require("../../ts_library/space/Direction"),i=require("../../ts_library/space/SimpleShapes"),n=require("./PositionComponent"),s=require("../tasks/MoveObjectTask"),p=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t.position_buffer=null,t.previous_position=new i.Point(0,0),t.look_direction=r.Direction.DOWN,t.time_needed_to_move=1,t.progress=!1,t}return t(o,e),o.prototype.update=function(t,e){return e.get(n.PositionComponent)?(!1!==this.progress&&(this.progress=Math.min(1,this.progress+t/this.time_needed_to_move),this.progress>=1&&(this.progress=!1)),[]):[]},o.prototype.handle=function(t,e,o){return e instanceof s.MoveObjectTask?e.object_id!==o.instance_ID?t:(this.previous_position=e.source,this.progress=0,t):t},o}(o.default);exports.default=p;
},{"./MapObjectComponent":"SlkT","../../ts_library/space/Direction":"EbgX","../../ts_library/space/SimpleShapes":"fgAD","./PositionComponent":"SUj7","../tasks/MoveObjectTask":"Em0L"}],"uEVL":[function(require,module,exports) {
"use strict";var e=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var r=require("../../../assets/ImageResources"),o=require("../../../assets/MapObjectResources"),n=require("./FieldPartDrawer"),a=t(require("../../../logic/components/MovingComponent")),i=t(require("../../../logic/components/VisualComponent")),_=require("../../../logic/components/PositionComponent"),s=function(t){function n(e){var r=t.call(this)||this;return r.images=e,r}return e(n,t),n.prototype.draw=function(e,t,r){var o=this;t.objects.sort(function(e,t){var r=e.get(i.default),o=t.get(i.default);return((null==r?void 0:r.priority)||0)-((null==o?void 0:o.priority)||0)}).forEach(function(t){var r=n.get_image_for_object_type(t);if(null!==r){var i=o.images.get(r),s=t.get(_.PositionComponent),u=t.get(a.default);if(!s||!u||!1===u.progress||null===u.previous_position)return e(i);var c=s.position.sub(u.previous_position).mul(u.progress-1);e(i,c)}})},n.get_image_for_object_type=function(e){if(!e)return null;var t=e.get(a.default);switch(e.type){case o.MapObjectTypeID.PAPER_ROLL:return r.ImageID.OBJECT__PAPER_ROLL;case o.MapObjectTypeID.NUDEL:return r.ImageID.OBJECT__NUDEL4;case o.MapObjectTypeID.SPRAY:return r.ImageID.OBJECT__SPRAY;case o.MapObjectTypeID.WALL:return r.ImageID.OBJECT__WALL2;case o.MapObjectTypeID.FURNITURE1:return r.ImageID.OBJECT__FURNITURE1;case o.MapObjectTypeID.VIRUS:return r.ImageID.UNIT__VIRUS;case o.MapObjectTypeID.PLAYER:return t?[r.ImageID.UNIT__SMILEY_LEFT,r.ImageID.UNIT__SMILEY_UP,r.ImageID.UNIT__SMILEY_RIGHT,r.ImageID.UNIT__SMILEY_DOWN][t.look_direction]:r.ImageID.UNIT__SMILEY_DOWN;default:e.type in n.failed_at_object_types==!1&&console.error("No custom Image specified for Object "+e.type),n.failed_at_object_types.push(e.type);var _=e.get(i.default);return _?_.image:r.ImageID.OTHER__ERROR}},n.failed_at_object_types=[],n}(n.FieldPartDrawer);exports.ObjectDrawer=s;
},{"../../../assets/ImageResources":"n9mu","../../../assets/MapObjectResources":"BWOB","./FieldPartDrawer":"SAPV","../../../logic/components/MovingComponent":"XFiS","../../../logic/components/VisualComponent":"ZpDG","../../../logic/components/PositionComponent":"SUj7"}],"KZdV":[function(require,module,exports) {
"use strict";var e=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),t=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var a,i,n=r.call(e),c=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)c.push(a.value)}catch(o){i={error:o}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return c},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var a=require("../WorldMapVisualizer"),i=r(require("./FieldDrawer")),n=require("./TerrainDrawer"),c=require("./ObjectDrawer"),o=require("../../../ts_library/space/SimpleShapes"),s=function(r){function a(e,o){var s=r.call(this,e,o)||this,_=t(a.create_offscreen_canvas(),2),f=_[0],l=_[1];return s.field_drawer=new i.default(l,s.image_manager),s.offscreen_canvas=f,s.offscreen_context=l,s.field_drawer.add(new n.TerrainDrawer(s.image_manager)),s.field_drawer.add(new c.ObjectDrawer(s.image_manager)),s.field_drawer.camera=s.camera,l.imageSmoothingEnabled=!1,e.imageSmoothingEnabled=!1,s}return e(a,r),a.create_offscreen_canvas=function(){var e=new OffscreenCanvas(800,600),t=e.getContext("2d");if(!t)throw new Error("Unable to create context");return[e,t]},a.prototype.display=function(e,t){var r=this.camera.display_target_rect.right,a=this.camera.display_target_rect.bottom;(Math.abs(r-this.offscreen_canvas.width)||Math.abs(a-this.offscreen_canvas.height))&&(this.offscreen_canvas.width=r,this.offscreen_canvas.height=a,this.offscreen_context.imageSmoothingEnabled=!1),this.offscreen_context.clearRect(this.camera.display_target_rect.left,this.camera.display_target_rect.top,r,a);var i=o.Rect.from_boundries(Math.trunc(this.camera.map_source_rect.left),Math.trunc(this.camera.map_source_rect.top),Math.ceil(this.camera.map_source_rect.right),Math.ceil(this.camera.map_source_rect.bottom));this.field_drawer.get_drawer_functions().forEach(function(t){e.map_fields_in_rect(i,t)});var n=this.offscreen_context.getImageData(this.camera.display_target_rect.left,this.camera.display_target_rect.top,r,a);this.context.putImageData(n,this.camera.display_target_rect.left,this.camera.display_target_rect.top,0,0,r,a)},a}(a.WorldMapVisualizer);exports.default=s;
},{"../WorldMapVisualizer":"vnHf","./FieldDrawer":"JHBG","./TerrainDrawer":"OL76","./ObjectDrawer":"uEVL","../../../ts_library/space/SimpleShapes":"fgAD"}],"Xj3t":[function(require,module,exports) {
"use strict";var I;Object.defineProperty(exports,"__esModule",{value:!0}),function(I){I[I.INITIAL=0]="INITIAL",I[I.LOADING=1]="LOADING",I[I.PLAYING=2]="PLAYING",I[I.PAUSE=3]="PAUSE",I[I.INTERMISSION=4]="INTERMISSION",I[I.MENU=5]="MENU"}(I=exports.GameMode||(exports.GameMode={}));
},{}],"NGgy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(t){this.context=t}return t.prototype.display=function(t,e){this.context.font="64px gothic",this.context.fillStyle="red",this.context.fillText("You died",50,50,200),this.context.font="48px fantasy",this.context.fillStyle="gold",this.context.fillText("Day "+e.day,150,150,200),this.context.font="24px fantasy",this.context.fillStyle="white",this.context.fillText("Press SPACE to retry",200,550,300),this.context.font="16px fantasy",this.context.fillText("Press ESC to skip level",500,550,200)},t}();exports.default=t;
},{}],"fK4z":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(t){this.context=t}return t.prototype.display=function(t,e){this.context.font="64px gothic",this.context.fillStyle="green",this.context.fillText("You survived",50,50,200),this.context.font="48px fantasy",this.context.fillStyle="gold",this.context.fillText("Day "+e.day,150,150,200),this.context.font="24px fantasy",this.context.fillStyle="white",this.context.fillText("Press SPACE to continue",200,550,300)},t}();exports.default=t;
},{}],"fCby":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(t,e){this.context=t,this.target=e}return t.prototype.display=function(t,e){var i=e.time_of_day/24;if(i<.25||i>.75){var r=(i+1-.75)%1*2,o=(i-.25)*(i-.75)*4;this.context.fillStyle="hsla("+365*(.25*r+.5)%356+", 90%, 10%, "+o+")",this.context.fillRect(0,0,this.target.width(),this.target.height())}},t}();exports.default=t;
},{}],"fhts":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var i=e(require("../visualization/components/InventarOnScreen")),t=e(require("../visualization/components/HungerOnScreen")),a=e(require("../visualization/components/LifeOnScreen")),s=e(require("../visualization/components/DayTimeOnScreen")),n=e(require("../visualization/components/InfectionOnScreen")),r=e(require("../visualization/utils/NumberOnScreen")),o=e(require("../visualization/visualize_world/default/WorldMapVisualizerDefault")),u=require("../ts_library/space/SimpleShapes"),l=require("./GameState"),c=require("./GameMode"),d=e(require("../visualization/screens/LoosingScreen")),f=e(require("../visualization/screens/WinningScreen")),p=e(require("../logic/objects/MapObject")),_=e(require("../visualization/effect/TimeOfDayEffect")),m=function(){function e(e,l){this.fps_counter=r.default(e)(0,0),this.inventar=new i.default(e,l,new u.Point(150,500),new u.Point(2,8)),this.hunger=new t.default(e,l,u.Rect.from_boundries(0,500,650,550)),this.life=new a.default(e,l,u.Rect.from_boundries(0,550,650,600)),this.daytime=new s.default(e,l,u.Rect.from_boundries(650,500,800,600)),this.infection=new n.default(e,l,u.Rect.from_boundries(400,0,650,50)),this.loosing_screen=new d.default(e),this.winning_screen=new f.default(e),this.world_map=new o.default(e,l),this.world_map.camera.map_source_rect=u.Rect.from_boundries(0,0,14,10),this.world_map.camera.display_target_rect=u.Rect.from_boundries(0,0,650,500),this.daytime_effect=new _.default(e,u.Rect.from_boundries(0,0,650,500))}return e.prototype.display=function(e,i){switch(i.modus){case c.GameMode.INTERMISSION:this.display_intersection(e,i);break;case c.GameMode.PLAYING:case c.GameMode.LOADING:case c.GameMode.PAUSE:default:this.display_playing(e,i)}},e.prototype.display_playing=function(e,i){if(this.world_map.camera.map_source_rect.set_center(i.camera_position),this.world_map.display(i.world_map,e),this.daytime_effect.display(e,i),i.selected){var t=p.default.get(i.selected);t&&(this.inventar.display(t),this.hunger.display(t),this.life.display(t))}this.daytime.display(i.time_of_day/24,i.day)},e.prototype.display_intersection=function(e,i){switch(i.post_game_stats.won_or_lost){case l.GameResult.TIE:case l.GameResult.LOST:this.loosing_screen.display(e,i);break;case l.GameResult.WON:this.winning_screen.display(e,i)}},e}();exports.default=m;
},{"../visualization/components/InventarOnScreen":"sItu","../visualization/components/HungerOnScreen":"Pvd8","../visualization/components/LifeOnScreen":"W3w5","../visualization/components/DayTimeOnScreen":"ksSS","../visualization/components/InfectionOnScreen":"S3Ae","../visualization/utils/NumberOnScreen":"fYsn","../visualization/visualize_world/default/WorldMapVisualizerDefault":"KZdV","../ts_library/space/SimpleShapes":"fgAD","./GameState":"kbIU","./GameMode":"Xj3t","../visualization/screens/LoosingScreen":"NGgy","../visualization/screens/WinningScreen":"fK4z","../logic/objects/MapObject":"BVhu","../visualization/effect/TimeOfDayEffect":"fCby"}],"igT0":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(r,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(r,e)};return function(r,e){function o(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),r=this&&this.__read||function(t,r){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var o,n,u=e.call(t),i=[];try{for(;(void 0===r||r-- >0)&&!(o=u.next()).done;)i.push(o.value)}catch(a){n={error:a}}finally{try{o&&!o.done&&(e=u.return)&&e.call(u)}finally{if(n)throw n.error}}return i},e=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(r(arguments[e]));return t},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var n=require("../../main/GameMode"),u=o(require("./System")),i=function(r){function o(){return null!==r&&r.apply(this,arguments)||this}return t(o,r),o.prototype.update=function(t,r){var o;return r.modus!==n.GameMode.PLAYING?r:((o=r.tasks).push.apply(o,e(r.world_map.update(t,r))),r)},o}(u.default);exports.default=i;
},{"../../main/GameMode":"Xj3t","./System":"c0W6"}],"tLR9":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var r=e(require("./System")),n=require("../../main/GameMode"),o=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return t(r,e),r.prototype.update=function(t,e){var r=this;return e.modus!==n.GameMode.PLAYING?e:((e=e.tasks.reduce(function(t,e){return r.handle_task(e,t)},e)).tasks=[],e)},r.prototype.handle_task=function(t,e){return t.before_execute(e)?(e=e.world_map.get_fields_in_rect(e.world_map.get_map_boundries()).reduce(function(e,r){return r.objects.reduce(function(e,r){return r.handle(e,t)},e)},e),e=t.execute(e)):e},r}(r.default);exports.default=o;
},{"./System":"c0W6","../../main/GameMode":"Xj3t"}],"Sd28":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(r,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(r,e)};return function(r,e){function o(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();Object.defineProperty(exports,"__esModule",{value:!0});var r=require("./Task"),e=function(r){function e(t){var e=r.call(this)||this;return e.direction=t,e.controlled_callbacks=[],e}return t(e,r),e.prototype.execute=function(t){var r=this.controlled_callbacks.reduce(function(t,r){return r(t)},t);return this.controlled_callbacks=[],r},e}(r.Task);exports.default=e;
},{"./Task":"mo7A"}],"nCYO":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(r,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(r,e)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(exports,"__esModule",{value:!0});var r=require("./Task"),e=function(r){function e(){return null!==r&&r.apply(this,arguments)||this}return t(e,r),e}(r.Task);exports.default=e;
},{"./Task":"mo7A"}],"l7X5":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,s){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s])})(e,s)};return function(e,s){function n(){this.constructor=e}t(e,s),e.prototype=null===s?Object.create(s):(n.prototype=s.prototype,new n)}}(),e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var s=e(require("./System")),n=e(require("../tasks/InputMoveTask")),u=e(require("../tasks/InputUseSprayTask")),r=e(require("../tasks/InputEatTask copy")),a=require("../../main/GameMode"),o=e(require("../tasks/InputOpenMenutask")),i=e(require("../tasks/InputTogglePauseTask")),p=e(require("../tasks/InputUsePaperTask")),f=function(e){function s(t){var s=e.call(this)||this;return s.tasks=[],t.on_direction_input=function(t){return s.tasks.push(new n.default(t)),!0},t.on_use_spray=function(){return s.tasks.push(new u.default),!0},t.on_use_paper=function(){return s.tasks.push(new p.default),!0},t.on_eat=function(){return s.tasks.push(new r.default),!0},t.on_request_menu=function(){return s.tasks.push(new o.default),!0},t.on_pause=function(){return s.tasks.push(new i.default),!0},s}return t(s,e),s.prototype.update=function(t,e){var s=this.get_tasks().shift();return s&&this.handle_task(t,e,s),e},s.prototype.get_tasks=function(){var t=this.tasks;return this.tasks=[],t},s.prototype.handle_task=function(t,e,s){if(s instanceof i.default){switch(e.modus){case a.GameMode.PLAYING:e.modus=a.GameMode.PAUSE;break;case a.GameMode.PAUSE:case a.GameMode.INTERMISSION:e.modus=a.GameMode.PLAYING}e.tasks.push(s)}else e.modus===a.GameMode.PLAYING&&e.tasks.push(s)},s}(s.default);exports.default=f;
},{"./System":"c0W6","../tasks/InputMoveTask":"Sd28","../tasks/InputUseSprayTask":"nCYO","../tasks/InputEatTask copy":"nCYO","../../main/GameMode":"Xj3t","../tasks/InputOpenMenutask":"nCYO","../tasks/InputTogglePauseTask":"nCYO","../tasks/InputUsePaperTask":"nCYO"}],"b5KT":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var o=e(require("./System")),r=require("../../main/GameMode"),n=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return t(o,e),o.prototype.update=function(t,e){return e.modus!==r.GameMode.PLAYING?e:(e.time_of_day+=2*t,e.time_of_day>24&&(e.time_of_day-=24,e.day++),e)},o}(o.default);exports.default=n;
},{"./System":"c0W6","../../main/GameMode":"Xj3t"}],"ODNs":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}();Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./Task"),o=require("../components/PositionComponent"),r=function(e){function r(t,r,n){void 0===n&&(n=o.CollisionGroups.MOVEABLE);var i=e.call(this)||this;return i.create_template=t,i.target=r,i.collision_mask=n,i}return t(r,e),r.prototype.before_execute=function(t){var e=this,r=t.world_map.at(this.target);return!!r&&!!r.objects.reduce(function(t,r){var n=r.get(o.PositionComponent);return n?t&&!(n.collision_group&e.collision_mask):t},!0)},r.prototype.execute=function(t){var e=t.world_map.at(this.target);if(!e)return t;var r=this.create_template(t),n=r.get(o.PositionComponent);return n&&(n.position=this.target.copy()),e.objects.push(r),t},r}(e.Task);exports.default=r;
},{"./Task":"mo7A","../components/PositionComponent":"SUj7"}],"R0cs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../space/SimpleShapes"),n=require("../space/Direction");function t(t,i,r){switch(i){case n.Direction.LEFT:return t.move_by(new e.Point(-r,0));case n.Direction.RIGHT:return t.move_by(new e.Point(r,0));case n.Direction.UP:return t.move_by(new e.Point(0,-r));case n.Direction.DOWN:return t.move_by(new e.Point(0,r))}return t}function i(t,i){switch(t){case n.Direction.LEFT:return new e.Point(-i,0);case n.Direction.RIGHT:return new e.Point(i,0);case n.Direction.UP:return new e.Point(0,-i);case n.Direction.DOWN:return new e.Point(0,i)}}exports.move_by_direction=t,exports.direction_to_point=i;
},{"../space/SimpleShapes":"fgAD","../space/Direction":"EbgX"}],"DpDN":[function(require,module,exports) {
"use strict";function e(e){return 0===e.length?null:e[Math.floor(Math.random()*e.length)]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.get_random_of_array=e;
},{}],"q75i":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var r=e(require("./MapObjectComponent")),n=require("./PositionComponent"),o=e(require("./IsSprayComponent")),i=e(require("../tasks/DestroyObjectTask")),u=function(e){function r(){return e.call(this)||this}return t(r,e),r.prototype.update=function(t,e,r){var u=e.get(n.PositionComponent);if(!u)return[];var s=r.world_map.at(u.position);return s?0===s.objects.filter(function(t){return t.get(o.default)}).length?[]:[new i.default(e.instance_ID)]:[]},r}(r.default);exports.default=u;
},{"./MapObjectComponent":"SlkT","./PositionComponent":"SUj7","./IsSprayComponent":"xDlw","../tasks/DestroyObjectTask":"HMDK"}],"cLFq":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var o=e(require("./MapObjectComponent")),n=require("../../ts_library/conversion/fromDirection"),r=require("../../ts_library/utility/RandomObjects"),i=require("./PositionComponent"),s=require("../tasks/MoveObjectTask"),_=require("../../ts_library/space/Direction"),a=function(e){function o(){var t=e.call(this)||this;return t.steps_interval_in_seconds=1,t.time_to_next_step=0,t.chance_to_move=.5,t}return t(o,e),o.prototype.update=function(t,e,o){if(this.time_to_next_step-=t,this.time_to_next_step>0)return[];this.time_to_next_step+=this.steps_interval_in_seconds;var a=o.time_of_day/24-.25,c=.5*-Math.sin(a*Math.PI*2)+.5,u=c*c*this.chance_to_move;if(Math.random()>=u)return[];var p=e.get(i.PositionComponent);if(!p)return[];var f=[_.Direction.LEFT,_.Direction.UP,_.Direction.RIGHT,_.Direction.DOWN].reduce(function(t,e){var r=p.position.add(n.direction_to_point(e,1)),s=o.world_map.at(r);return s?s.objects.reduce(function(t,e){var o=e.get(i.PositionComponent);return!o||t&&0==(p.collision_mask&o.collision_group)},!1)?t:(t.push(e),t):t},[]),l=r.get_random_of_array(f);if(null===l)return[];var d=p.position.add(n.direction_to_point(l,1));return o.world_map.at(d)?[new s.MoveObjectTask(p.position,d,e.instance_ID)]:[]},o.NAME="infected_walking",o}(o.default);exports.default=a;
},{"./MapObjectComponent":"SlkT","../../ts_library/conversion/fromDirection":"R0cs","../../ts_library/utility/RandomObjects":"DpDN","./PositionComponent":"SUj7","../tasks/MoveObjectTask":"Em0L","../../ts_library/space/Direction":"EbgX"}],"VryN":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var r=e(require("./MapObjectComponent")),n=require("./PositionComponent"),i=e(require("./IsHumanComponent")),o=e(require("../tasks/DamageObjectTask")),u=require("../../ts_library/space/SimpleShapes"),a=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.interval_in_seconds=1,t.damage_per_tick=1,t.timer=0,t}return t(r,e),r.prototype.update=function(t,e,r){var a=this;if(r.time_of_day>6&&r.time_of_day<18)return[];if(this.timer-=t,this.timer>0)return[];this.timer+=this.interval_in_seconds;var s=e.get(n.PositionComponent);if(!s)return[];var _=r.world_map.get_fields_in_rect(u.Rect.from_point_with_size(s.position,2,2));return _?_.flatMap(function(t){return t.objects.filter(function(t){return t.has(i.default)}).map(function(t){return new o.default(t.instance_ID,a.damage_per_tick)})}):[]},r}(r.default);exports.default=a;
},{"./MapObjectComponent":"SlkT","./PositionComponent":"SUj7","./IsHumanComponent":"xDlw","../tasks/DamageObjectTask":"oEgK","../../ts_library/space/SimpleShapes":"fgAD"}],"PaVE":[function(require,module,exports) {
"use strict";var e=this&&this.__extends||function(){var e=function(o,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var n in o)o.hasOwnProperty(n)&&(e[n]=o[n])})(o,n)};return function(o,n){function t(){this.constructor=o}e(o,n),o.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}}(),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var n=o(require("./MapObject")),t=require("../../assets/MapObjectResources"),r=require("../components/PositionComponent"),i=o(require("../components/InfectedSpreadComponent")),a=o(require("../components/DieOnSprayComponent")),s=o(require("../components/InfectedWalkingComponent")),u=o(require("../components/HitPointsComponent")),p=o(require("../components/DamageHumansComponent")),c=o(require("../components/MovingComponent")),d=function(o){function n(e){var n=o.call(this,t.MapObjectTypeID.VIRUS)||this,d=new r.PositionComponent;d.collision_group=r.CollisionGroups.MOVEABLE,d.collision_mask=r.CollisionGroups.INTERACTABLE|r.CollisionGroups.MOVEABLE|r.CollisionGroups.PURIFIED,n.add(d);var l=new c.default;l.time_needed_to_move=.0625,n.add(l);var _=new i.default;n.add(_);var f=new a.default;n.add(f);var m=new s.default;n.add(m),m.steps_interval_in_seconds=.125,m.chance_to_move=2;var v=new u.default;v.current=v.max=10,n.add(v);var C=new p.default;return n.add(C),e&&(_.last_day=e.day),n}return e(n,o),n}(n.default);exports.default=d;
},{"./MapObject":"BVhu","../../assets/MapObjectResources":"BWOB","../components/PositionComponent":"SUj7","../components/InfectedSpreadComponent":"FWTD","../components/DieOnSprayComponent":"q75i","../components/InfectedWalkingComponent":"cLFq","../components/HitPointsComponent":"mUmB","../components/DamageHumansComponent":"VryN","../components/MovingComponent":"XFiS"}],"FWTD":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(r,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(r,e)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var e=r(require("./MapObjectComponent")),n=r(require("../tasks/CreateObjectTask")),o=require("../../ts_library/space/Direction"),i=require("./PositionComponent"),u=require("../../ts_library/conversion/fromDirection"),a=require("../../ts_library/utility/RandomObjects"),s=r(require("../objects/Virus")),c=function(r){function e(){var t=r.call(this)||this;return t.last_day=0,t}return t(e,r),e.prototype.update=function(t,r,e){var c=r.get(i.PositionComponent);if(!c)return[];if(this.last_day>=e.day)return[];this.last_day=e.day;var _=[o.Direction.LEFT,o.Direction.UP,o.Direction.RIGHT,o.Direction.DOWN].reduce(function(t,r){var n=c.position.add(u.direction_to_point(r,1)),o=e.world_map.at(n);return o?o.objects.length>0?t:(t.push(r),t):t},[]),p=a.get_random_of_array(_);if(null===p)return[];var f=c.position.add(u.direction_to_point(p,1));return[new n.default(function(t){return new s.default(t)},f)]},e}(e.default);exports.default=c;
},{"./MapObjectComponent":"SlkT","../tasks/CreateObjectTask":"ODNs","../../ts_library/space/Direction":"EbgX","./PositionComponent":"SUj7","../../ts_library/conversion/fromDirection":"R0cs","../../ts_library/utility/RandomObjects":"DpDN","../objects/Virus":"PaVE"}],"mW26":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var n=e(require("./System")),r=e(require("../components/InfectedSpreadComponent")),o=e(require("../components/IsHumanComponent")),u=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return t(n,e),n.prototype.update=function(t,e){var n=this,r=e.world_map.get_fields_in_rect(e.world_map.get_map_boundries()).reduce(function(t,e){return t=n.update_calculations_from_objects(t,e.objects)},{remaining_humans:0,remaining_virusses:0});return Object.assign(e,{calculated:r})},n.prototype.update_calculations_from_objects=function(t,e){return e.reduce(function(t,e){return e.has(r.default)&&(t.remaining_virusses+=1),e.has(o.default)&&(t.remaining_humans+=1),t},t)},n}(n.default);exports.default=u;
},{"./System":"c0W6","../components/InfectedSpreadComponent":"FWTD","../components/IsHumanComponent":"xDlw"}],"XCPr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){return function(){}}();exports.default=e;
},{}],"qXK9":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var r=e(require("./SystemEvent")),n=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return t(r,e),r}(r.default);exports.default=n;
},{"./SystemEvent":"XCPr"}],"KKVU":[function(require,module,exports) {
"use strict";var e=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var r=t(require("./System")),n=require("../../main/GameState"),o=require("../../main/GameMode"),u=t(require("./events/RestartLevelSystemEvent")),s=t(require("./events/LoadNextLevelSystemEvent")),a=function(t){function a(){return null!==t&&t.apply(this,arguments)||this}return e(a,t),a.prototype.update=function(e,t){if(t.calculated.remaining_humans<=0){var a={won_or_lost:n.GameResult.LOST};return r.default.events.trigger_event(new u.default),Object.assign(t,{modus:o.GameMode.INTERMISSION,post_game_stats:a})}if(t.calculated.remaining_virusses<=0){a={won_or_lost:n.GameResult.WON};return r.default.events.trigger_event(new s.default),Object.assign(t,{modus:o.GameMode.INTERMISSION,post_game_stats:a})}return t},a}(r.default);exports.default=a;
},{"./System":"c0W6","../../main/GameState":"kbIU","../../main/GameMode":"Xj3t","./events/RestartLevelSystemEvent":"qXK9","./events/LoadNextLevelSystemEvent":"qXK9"}],"vY3p":[function(require,module,exports) {
"use strict";var t=this&&this.__read||function(t,i){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var n,r,o=e.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(u){r={error:u}}finally{try{n&&!n.done&&(e=o.return)&&e.call(o)}finally{if(r)throw r.error}}return s},i=this&&this.__spread||function(){for(var i=[],e=0;e<arguments.length;e++)i=i.concat(t(arguments[e]));return i};Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../../ts_library/space/SimpleShapes"),n=require("../components/PositionComponent"),r=function(){function t(t,i,e){this.fields=[],this.width=t,this.height=i,this.events=new o(this),this.field_generator=e,this.fields=this.construct_fields()}return t.prototype.construct_fields=function(){var t=this;return i(new Array(this.width*this.height)).map(function(i,e){return t.field_generator(t,e%t.width,Math.trunc(e/t.width))})},t.prototype.get_map_boundries=function(){return e.Rect.from_boundries(0,0,this.width-1,this.height-1)},t.prototype.at=function(t){if(!this.get_map_boundries().is_containing(t))return null;var i=t.x+t.y*this.width;return this.fields[i]},t.prototype.update=function(t,i){return this.map_fields_in_rect(this.get_map_boundries(),function(e){return e.objects=e.objects.filter(function(t){return!t.is_destroyed()}),e.objects.flatMap(function(r,o){var s=r.get(n.PositionComponent);return s&&(s.position=e.location.copy()),r.update(t,i)})}).flatMap(function(t){return t})},t.prototype.update_field_at_point=function(t,i){if(this.get_map_boundries().is_containing(t)){var e=t.x+t.y*this.width;this.fields[e]=Object.assign({},this.fields[e],i)}},t.prototype.map_fields_in_rect=function(t,i){var e=this,n=this.get_map_boundries().get_intersection(t);return n?n.map_points_in_rect(function(t){return e.fields[t.x+t.y*e.width]}).map(i):[]},t.prototype.get_fields_in_rect=function(t){var i=this,e=this.get_map_boundries().get_intersection(t);return e?e.map_points_in_rect(function(t){return i.fields[t.x+t.y*i.width]}):[]},t}();exports.default=r;var o=function(){function t(t){}return t.prototype.connect=function(t){},t}();
},{"../../ts_library/space/SimpleShapes":"fgAD","../components/PositionComponent":"SUj7"}],"qQyX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.map1={width:8,height:8,data:[4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4280221727,4280229663,4280229663,4280229632,4280229663,4280229663,4278190080,4278190080,4278190080,4278190080,4280229663,4280229663,4280229663,4280229663,4278190080,4278190080,4280229663,4278190080,4280229663,4280229663,4280229663,4280229663,4278190080,4278190080,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4278190080,4278190080,4280229663,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4280229663,4280229663,4280229663,4280229663,4280229663,4278190111,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080]};
},{}],"Lc89":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.map2={width:10,height:10,data:[4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4294902015,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4278190080,4278190080,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4278190080,4278190080,4294901760,4280229663,4280229663,4294901760,4278190080,4278190080,4278190080,4280229663,4278190080,4278190080,4280229663,4280229663,4280229663,4280229663,4278190080,4278255360,4278255360,4278255360,4278255360,4278190080,4294901760,4280229663,4280229663,4294901760,4278190080,4278255360,4278255360,4278255360,4278255360,4278190080,4280229663,4280229663,4280229632,4280229663,4278190080,4278255360,4278255360,4278255360,4278255360,4278190080,4280229663,4280229663,4280229663,4280229663,4278190080,4278255360,4278255360,4278255360,4278255360,4278190080,4278255615,4278255615,4278255615,4278255615,4278190080,4278255360,4278255360,4278255360,4278255360,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278255360,4278255360,4278255360,4278190335]};
},{}],"cxU9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.map3={width:12,height:12,data:[4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278255360,4278255360,4278255360,4278190080,4278255360,4278190335,4278190080,4280229663,4280229663,4280229663,4280229663,4280229632,4278255360,4278255360,4278255360,4278190080,4278190335,4278255360,4278190080,4280229663,4280229663,4280229663,4280229663,4278190080,4278255360,4278255360,4278255360,4278190080,4278190080,4278255360,4278190080,4280229663,4280229663,4280229663,4280229663,4278190080,4278255360,4278255360,4278255360,4278190080,4278255360,4278255360,4278190080,4280229663,4280229663,4280229663,4280221696,4278190080,4278255360,4278255360,4278255360,4278190080,4278255360,4278255360,4278190080,4280229663,4278190080,4278190080,4278190080,4278190080,4278255360,4278255360,4278255360,4278190080,4278255360,4278190080,4278190080,4280229663,4280229663,4280229663,4280229663,4278190080,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278190080,4278190080,4278190080,4278190080,4280229663,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4280229663,4280229663,4280229663,4280229663,4278190080,4278255615,4278255615,4280229663,4280229663,4280221727,4278190080,4278190080,4278190080,4280229663,4278190080,4278190080,4278190080,4278255615,4278255615,4280229663,4280229663,4294901760,4278190080,4278190080,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4294901760,4294901760,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080]};
},{}],"O26Z":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.map4={width:14,height:14,data:[4278190080,4278190080,4278190080,4278190080,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278190080,4280221727,4280229663,4280229663,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278190335,4278190080,4280229663,4280229663,4278190080,4278255360,4278255360,4278255360,4278255360,4278190335,4278255360,4278255360,4278190335,4278255360,4278255360,4278190080,4278255615,4280229663,4278190080,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278190080,4278190080,4278190080,4278190080,4278255360,4278255360,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278255360,4280229663,4280229663,4280229663,4278190080,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4280229663,4278190111,4280229663,4278190080,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4280229663,4278190111,4280229663,4278190080,4278255360,4278255360,4278255360,4278255360,4278255360,4278190080,4278190080,4278190080,4278190080,4278190080,4280229663,4280229663,4280229663,4278190080,4278255360,4278255360,4278255360,4278255360,4278255360,4280229663,4280229663,4280229663,4280229663,4278190080,4294901760,4278190080,4278190080,4278190080,4278255360,4278255360,4278255360,4278255360,4278255360,4278190080,4278190080,4278190080,4280229663,4278190080,4280229663,4280229663,4280229663,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278190080,4278255615,4280229663,4280229663,4278190080,4278190080,4278190080,4278190080,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278190080,4294901760,4280229632,4280221696,4278190080,4278190080,4278198047,4280229663,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278190080,4294901760,4280221696,4280221696,4278190080,4278190080,4278190080,4278190080,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278190080,4278190080,4278190080,4278190080,4278190080]};
},{}],"hvwC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.map5={width:16,height:16,data:[4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278190335,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190335,4278190080,4278190080,4278190080,4278190080,4278190080,4278255360,4278190080,4280221727,4280229663,4280229663,4280229663,4280229663,4278190111,4278190111,4278190080,4278255360,4278190080,4294901760,4294901760,4280229663,4278190080,4278255360,4278190080,4278190080,4278190080,4278190111,4278190080,4280229663,4278190080,4278190111,4278190080,4278255360,4278190080,4278190080,4278190080,4280229663,4278190080,4278255360,4278255360,4278255360,4278190080,4280229663,4280229663,4280229663,4280229663,4280229663,4278190080,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278190080,4278190080,4280229663,4280229663,4280229663,4278190080,4278190080,4278255360,4278255360,4278255360,4278190080,4278190080,4278190080,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278190080,4278255360,4278255360,4278255360,4278255360,4278255360,4278190080,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278190080,4278255360,4278255360,4278255360,4278255360,4278255360,4278190080,4278255360,4278190080,4278190080,4278190080,4280229663,4278190080,4278190080,4278190080,4278255360,4278190080,4278255360,4278255360,4278255360,4278255360,4278255360,4278190080,4278255360,4278190080,4278255615,4278255615,4280229663,4278255615,4278255615,4278190080,4278255360,4278255360,4278255360,4278190080,4278190080,4278190080,4278255360,4278255360,4278255360,4278190080,4278255615,4278255615,4280229663,4278255615,4278255615,4278190080,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278190080,4280229663,4280229663,4280229632,4280229663,4280229663,4278190080,4278190080,4278190080,4280229663,4280229663,4278190080,4278190080,4278255360,4278255360,4278255360,4278190080,4280229663,4280229663,4280229663,4280229663,4280229663,4278190080,4278190080,4294902015,4280229663,4280229663,4294902015,4278190080,4278255360,4278190335,4278255360,4278190080,4294901760,4280229663,4294901760,4280229663,4294901760,4278190080,4278190080,4278255615,4280229663,4280229663,4278255615,4278190080,4278255360,4278255360,4278255360,4278190080,4280229663,4280229663,4280229663,4280229663,4280229663,4278190080,4278190080,4294902015,4280229663,4280229663,4294902015,4278190080,4278255360,4278190335,4278255360,4278190080,4294901760,4280229663,4294901760,4280229663,4294901760,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278255360,4278255360,4278255360,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080]};
},{}],"VeRh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.map6={width:18,height:18,data:[4278190080,4278190080,4278190080,4278190080,4278190080,4278255360,4278190335,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4294902015,4280221696,4294901760,4278190080,4278255360,4278255360,4278190080,4278198047,4278190080,4278198047,4278190080,4278198047,4278190080,4278198047,4278190080,4278198047,4278190080,4278190080,4278190080,4280229663,4278190080,4278190080,4278255360,4278255360,4278190080,4280229663,4278190080,4280229663,4278190080,4280229663,4278190080,4280229663,4278190080,4280229663,4278190080,4278190080,4278255615,4280229663,4278255615,4278190080,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278190080,4280229663,4280229663,4280229663,4278190080,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4294967040,4278255360,4278190080,4278190080,4280229663,4278190080,4278190080,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278190080,4278190080,4278190080,4278190080,4278255360,4278190080,4278190080,4278190080,4278190080,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278190335,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278190080,4280229663,4278190080,4278190080,4278190080,4278190080,4278190080,4278255360,4278255360,4278255360,4278255360,4278190080,4278190080,4278190080,4280229663,4280229663,4278190080,4278190080,4278190080,4280229663,4280229663,4280229663,4280229663,4278190080,4278190080,4278190080,4278190080,4278190080,4278255360,4278190080,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4278190080,4278190080,4278190080,4278190080,4280229663,4280229663,4280229663,4278255360,4278255360,4278255360,4278255360,4278190080,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4278190080,4278190111,4278190111,4278190080,4278190080,4278190080,4280229663,4278255360,4278190080,4278190080,4278190080,4278190080,4280229663,4278190111,4280229663,4280229663,4278190111,4280229663,4278190080,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4278255360,4278255360,4278255360,4278255360,4278190080,4280229663,4278190111,4280229663,4280229663,4278190111,4280229663,4278190080,4280229663,4278190080,4278190080,4280229663,4278190080,4278190080,4278190080,4278190080,4278190080,4278255360,4278190080,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4278190080,4280229663,4280229663,4280229663,4280229663,4280221727,4278190080,4280221727,4278255360,4278255360,4278255360,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4278190080,4278190080,4278190080,4278190080,4278190080]};
},{}],"a8wb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.map7={width:20,height:20,data:[4294901760,4294901760,4280229663,4280229663,4280229663,4278190080,4280229663,4280229663,4278190111,4280229663,4280229663,4278190111,4280229663,4280229663,4278190080,4278255615,4278255615,4278255615,4278255615,4278255615,4294901760,4294901760,4280229663,4280229663,4280229663,4278190080,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4278190080,4278255615,4278255615,4278255615,4278255615,4278255615,4280229663,4278190080,4280221696,4280229663,4280229663,4278190080,4280229663,4280229663,4278190111,4278190111,4278190111,4278190111,4280229663,4280229663,4278190080,4280229663,4280229663,4294901760,4294901760,4294901760,4294902015,4278190080,4280221696,4280229663,4280229663,4278190080,4280229663,4278190111,4280229663,4280229663,4280229663,4280229663,4278190111,4280229663,4278190080,4280229663,4280229663,4294901760,4294901760,4294901760,4294902015,4278190080,4280221696,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4294901760,4294901760,4294901760,4278190080,4278190080,4278190080,4278190080,4280229663,4278190080,4278190080,4278190080,4280229663,4280229663,4280229663,4280229663,4278190080,4278190080,4278190080,4280229663,4278190080,4278190080,4278190080,4278190080,4280229663,4280229663,4280229663,4280229663,4280229663,4278190080,4280229663,4280229663,4280229663,4278255360,4278255360,4280229663,4280229663,4280229663,4278190080,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4278190111,4280229663,4278190080,4280229663,4280229663,4278190080,4278255360,4278255360,4278190080,4280229663,4280229663,4278190080,4280229663,4278190111,4280229663,4280229663,4280229663,4278190111,4280229663,4278190111,4280229663,4280229663,4280229663,4280229663,4278190080,4278190080,4278255360,4278255360,4278190080,4278190080,4280229663,4280229663,4280229663,4280229663,4278190111,4280229663,4278190111,4280229663,4280229663,4278190111,4280229663,4280229663,4280229663,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4280229663,4280229663,4280229663,4278190111,4280229663,4280229663,4280229663,4280229663,4278190111,4280229663,4280229663,4280229663,4278255360,4278255360,4278255360,4294967040,4278255360,4278255360,4278255360,4278255360,4280229663,4280229663,4280229663,4278190111,4280229663,4280229663,4278190111,4280229663,4278190111,4280229663,4280229663,4280229663,4280229663,4278190080,4278190080,4278255360,4278255360,4278190080,4278190080,4280229663,4280229663,4280229663,4280229663,4278190111,4280229663,4278190111,4280229663,4280229663,4280229663,4278190111,4280229663,4278190080,4280229663,4280229663,4278190080,4278255360,4278255360,4278190080,4280229663,4280229663,4278190080,4280229663,4278190111,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4278190080,4280229663,4280229663,4280229663,4278255360,4278255360,4280229663,4280229663,4280229663,4278190080,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4280229663,4280229663,4280229663,4280229663,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4280229663,4280229663,4280229663,4280221727,4280229663,4280229663,4278190080,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4278190080,4280229663,4278198047,4278198047,4278198047,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4278190080,4280229663,4280229663,4278190111,4280229663,4280229663,4280229663,4280229663,4278190111,4278190080,4280229663,4278190080,4278190080,4278190080,4280229663,4280221727,4280229663,4280229663,4280229663,4280221727,4278190080,4280229663,4280229663,4280229663,4278190111,4278190111,4278190111,4278190111,4280229663,4278190080,4280229663,4278198047,4278198047,4278198047,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4278190080,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4278190080,4280229663,4278190080,4278190080,4278190080,4280229663,4280229663,4280229663,4280221727,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4278190111,4280229663,4280229663,4278190111,4280229663,4280229663,4280229663,4278198047,4278198047,4278198047,4280229663]};
},{}],"Eibq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.map8={width:22,height:22,data:[4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4294901760,4294901760,4294901760,4278190080,4278198047,4278190080,4278198047,4278190080,4280221727,4280229663,4280229663,4280229663,4278190080,4278190080,4278255360,4278255360,4278190080,4278190080,4278190080,4278190080,4278255360,4278255360,4278190080,4278190080,4278190080,4278190080,4278255360,4278255360,4278255360,4278190080,4280229663,4280229663,4280229663,4280229663,4278190080,4278190080,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278190080,4278255360,4278255360,4278255360,4278255360,4278190080,4278255360,4278255360,4278255360,4278190080,4278190080,4278190080,4278190080,4278190335,4278190080,4278190080,4278255360,4278255360,4278190080,4278190080,4278255360,4278255360,4278255360,4278190080,4278255360,4278255360,4278255360,4278255360,4278190080,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278190080,4278190080,4278190080,4278255360,4278255360,4278255360,4278190080,4278255360,4278255360,4278190080,4278190080,4278190080,4278255360,4278255360,4278190080,4278255360,4278255360,4278190080,4278255360,4278255360,4278190080,4278255360,4278190080,4278190080,4278190080,4278190080,4278190080,4278255360,4278190080,4278255360,4278255360,4278190080,4278255360,4278255360,4278255360,4278255360,4278190080,4278255360,4278255360,4278190080,4278255360,4278255360,4278190080,4278255360,4278190080,4278190080,4278198047,4278198047,4278198047,4278255360,4278190080,4278255360,4278255360,4278190080,4278255360,4278190080,4278190080,4278190080,4278255360,4278255360,4278255360,4278190080,4278255360,4278255360,4278190080,4278255360,4278190080,4278190080,4278255360,4278255360,4278255360,4278190080,4278190080,4278255360,4278255360,4278190080,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278190080,4278190335,4278190080,4278190080,4278255360,4278255360,4278190080,4278190335,4278190335,4278255360,4278255360,4278190080,4278255360,4278190080,4278255360,4278190080,4278190080,4278190080,4278255360,4278190080,4278190080,4278255360,4278190080,4278255360,4278190080,4278190080,4278255360,4278255360,4278190080,4278190335,4278190335,4278255360,4278190080,4278255360,4278255360,4278190080,4278255360,4278190080,4280221696,4280221696,4280229663,4278255360,4278255360,4278255360,4278190080,4278255360,4278190080,4278190080,4278255360,4278255360,4278255360,4278190080,4278190080,4278190080,4278255360,4278255360,4278255360,4278190080,4278255360,4278190080,4280221696,4280229632,4280229663,4278190080,4278255360,4278255360,4278190080,4278255360,4278190080,4278190080,4278190080,4278190080,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278190335,4278190080,4278255360,4278255360,4280229663,4280229663,4280229663,4278190080,4278255360,4278255360,4278190080,4278255360,4278190080,4278190080,4278255360,4278255360,4278255360,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278255360,4278190080,4278190080,4278190080,4278190080,4278190080,4278255360,4278255360,4278190080,4278255360,4278190080,4278190080,4278255360,4278190080,4278190080,4278190080,4278255360,4278255360,4278255360,4278255360,4278255360,4278190080,4278255360,4278255360,4278190080,4278255360,4278255360,4278255360,4278255360,4278255360,4278190080,4278255360,4278190080,4278190080,4278255360,4278190080,4278190080,4278190080,4278255360,4278190080,4278198047,4278190080,4278255360,4278190080,4278190080,4278255360,4278190080,4278255360,4278190080,4278190080,4278190080,4278190080,4278190080,4278255360,4278190080,4278190080,4278255360,4278190080,4280221727,4278190080,4278255360,4278190080,4278190080,4278190080,4278255360,4278190080,4278255360,4278255360,4278190080,4278255360,4278190080,4278255615,4278255615,4278255615,4278190080,4278255360,4278190080,4278190080,4278255360,4278190080,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278190080,4278190080,4278255360,4278190080,4278255615,4294901760,4294901760,4278190080,4278255360,4278190080,4278190080,4278255360,4278190080,4278255360,4278190080,4278255360,4278190080,4278190080,4278190080,4278255360,4278190080,4278255360,4278255360,4278255360,4278255360,4278190080,4278255615,4294901760,4280229663,4280229663,4278255360,4278190080,4278190080,4278255360,4278255360,4278255360,4278190080,4278255360,4278190080,4278198047,4278190080,4278255360,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278255360,4278190080,4278190080,4294901760,4294901760,4294901760,4278190080,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278190335,4278255360,4278255360,4278255360,4278255360,4278255360,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080]};
},{}],"vVTn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.map9={width:24,height:24,data:[4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278255360,4278255360,4278255360,4278255360,4278255360,4278190335,4278255360,4278255360,4278255360,4278255360,4278255360,4278190080,4280229663,4294901760,4294901760,4294901760,4278190080,4294901760,4280229663,4280229663,4280229663,4280229663,4280221696,4278190080,4278255360,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4280229663,4280229663,4280229663,4280229663,4278190080,4278190080,4278190080,4278190080,4280229663,4280229663,4280229663,4278190080,4278255360,4278190080,4278255360,4278255360,4278190080,4280229663,4280229663,4294902015,4278190080,4278190111,4278190111,4278190080,4280229663,4278190080,4278190080,4278190080,4278190080,4280229663,4280229663,4280229663,4280229632,4280229663,4280229663,4280229663,4278255360,4278190080,4278255360,4278255360,4278190080,4280229663,4280229663,4278198047,4278190080,4280229663,4280229663,4278190080,4278255360,4278255360,4278255360,4278255360,4278190080,4280229663,4280229663,4278190080,4278190080,4278190080,4280229663,4278190080,4278255360,4278255360,4278255360,4278255360,4278190080,4280229663,4278190080,4278190080,4278190080,4280229663,4278190080,4278190080,4278190080,4278190080,4278255360,4278255360,4278190080,4280229663,4280229663,4278190080,4278198047,4280229663,4280229663,4278190080,4278255360,4278190080,4278190080,4278255360,4278190080,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4278255360,4278255360,4278255360,4278255360,4278190080,4278190111,4278190111,4278190080,4278255615,4278255615,4280229663,4278190080,4278255360,4278255360,4278255360,4278255360,4278190080,4280229663,4280229663,4280229663,4278190080,4278190080,4278190080,4278190080,4278255360,4278255360,4278255360,4278255360,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278255360,4278255360,4278190080,4278190080,4278190080,4280221696,4280229663,4280229663,4280229663,4280229663,4294901760,4278190080,4278255360,4278255360,4278255360,4278255360,4278190335,4278255360,4278190080,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278255360,4278255360,4278255360,4278255360,4278190080,4278255360,4278255360,4278190080,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278190080,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278255360,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278255360,4278255360,4278255360,4278190080,4278190080,4278198047,4278198047,4278198047,4278198047,4278190080,4278190080,4278190111,4278190111,4278190111,4278190080,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278190080,4278190080,4280229663,4280229663,4280229663,4280229663,4278190080,4278190080,4280229663,4280229663,4280229663,4278190080,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278190080,4278190080,4280229663,4280229663,4280229663,4280229663,4278190080,4278190080,4280229663,4280229663,4280229663,4278190080,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278190080,4278190080,4280229663,4278190080,4278190080,4278190080,4278190080,4278190080,4280229663,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278255360,4278255360,4278190080,4278190080,4278190080,4278255360,4278190080,4278190080,4278190080,4278190080,4278190080,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4278255360,4278255360,4278190080,4278255360,4278255360,4278190080,4278255360,4278255360,4278255360,4280229663,4280229663,4278255615,4278190080,4278190080,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4278255360,4278255360,4278190080,4278190335,4278255360,4278190080,4278255360,4278255360,4278255360,4280229663,4280229663,4278198047,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4280229663,4280229663,4278190080,4278190080,4278190080,4278190080,4278255360,4278255360,4278190080,4278255360,4278255360,4278190080,4278255360,4278255360,4278255360,4278190080,4278190080,4278190080,4278190080,4278190080,4280221696,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4280221727,4278190080,4278255360,4278255360,4278190080,4278255360,4278190335,4278190080,4278255360,4278255360,4278255360,4280229663,4280229663,4278255615,4278190080,4278190080,4280221696,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4280229663,4280221727,4278190080,4278255360,4278190335,4278190080,4278255360,4278255360,4278190080,4278255360,4278255360,4278255360,4280229663,4280229663,4278198047,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278190080,4278255360,4278255360,4278190080,4278255360,4278255360,4278190080,4278255360,4278255360,4278255360,4278190080,4278190080,4278190080,4278255360,4278255360,4278255360,4278255360,4278255360,4278190335,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278190080,4278255360,4278255360,4278255360,4280229663,4280229663,4278255615,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278255360,4278190080,4278255360,4278255360,4278255360,4280229663,4280229663,4278198047]};
},{}],"KmiH":[function(require,module,exports) {
"use strict";var t=this&&this.__read||function(t,r){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var i,n,a=e.call(t),s=[];try{for(;(void 0===r||r-- >0)&&!(i=a.next()).done;)s.push(i.value)}catch(o){n={error:o}}finally{try{i&&!i.done&&(e=a.return)&&e.call(a)}finally{if(n)throw n.error}}return s},r=this&&this.__spread||function(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(t(arguments[e]));return r};Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../assets/TerrainResources"),i=require("../ts_library/space/Direction"),n=function(){function n(t,i){this.snippets=[],this.width=t,this.height=i,this.data=r(new Array(t)).map(function(){return r(new Array(i)).map(function(){return{terrain:e.TerrainTypeID.OUTDOOR_GRAS}})})}return n.prototype.set=function(t,r,e){Object.assign(this.data[Math.abs(t)%this.width][Math.abs(r)%this.height],e)},n.prototype.at=function(t,r){return this.data[Math.abs(t)%this.width][Math.abs(r)%this.height]},n.prototype.add_snippet=function(t,r,i){if(t instanceof Array==!1)return-1;var n=t.map(function(t){e.TerrainTypeID.OUTDOOR_GRAS;return t instanceof Array?{terrain:t[0],object:t[1]}:t});return this.snippets.push({data:n,width:r,height:i}),this.snippets.length-1},n.prototype.put=function(r,e,n,a){void 0===a&&(a=i.Direction.RIGHT);for(var s=this.snippets[r],o=0;o<s.width;o++)for(var h=0;h<s.height;h++){var u=t(this.rotate(o,h,s.width,s.height,a),2),c=u[0],p=u[1];this.set(e+c,n+p,s.data[o+h*s.width])}},n.prototype.rotate=function(t,r,e,n,a){switch(a){case i.Direction.LEFT:return[e-t-1,r];case i.Direction.UP:return[r,e-t-1];case i.Direction.RIGHT:return[t,r];case i.Direction.DOWN:return[n-r-1,t]}},n}();exports.default=n;
},{"../assets/TerrainResources":"cAzr","../ts_library/space/Direction":"EbgX"}],"vCFl":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var r=e(require("./MapObject")),o=require("../../assets/MapObjectResources"),n=function(e){function r(){return e.call(this,o.MapObjectTypeID.WALL)||this}return t(r,e),r}(r.default);exports.default=n;
},{"./MapObject":"BVhu","../../assets/MapObjectResources":"BWOB"}],"lD3b":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var r=e(require("./MapObjectComponent")),n=e(require("../tasks/DestroyObjectTask")),o=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.charges_left=3,t}return t(r,e),r.prototype.update=function(t,e,r){return this.charges_left<=0?[new n.default(e.instance_ID)]:[]},r}(r.default);exports.default=o;
},{"./MapObjectComponent":"SlkT","../tasks/DestroyObjectTask":"HMDK"}],"mQAr":[function(require,module,exports) {
"use strict";var e=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var o=t(require("./MapObject")),n=require("../../assets/MapObjectResources"),r=require("../components/PositionComponent"),s=t(require("../components/IsCollectableComponent")),i=t(require("../components/VisualComponent")),u=require("../../assets/ImageResources"),a=t(require("../components/ChargesComponent")),c=function(t){function o(){var e=t.call(this,n.MapObjectTypeID.SPRAY)||this,o=new r.PositionComponent;o.collision_group=r.CollisionGroups.COLLECTABLE,o.collision_mask=r.CollisionGroups.UNPASSABLE,e.add(o);var c=new s.default;e.add(c);var p=new a.default;p.charges_left=1,e.add(p);var l=new i.default;return l.image=u.ImageID.OBJECT__SPRAY,l.icon=u.ImageID.OBJECT__SPRAY,e.add(l),e}return e(o,t),o}(o.default);exports.default=c;
},{"./MapObject":"BVhu","../../assets/MapObjectResources":"BWOB","../components/PositionComponent":"SUj7","../components/IsCollectableComponent":"xDlw","../components/VisualComponent":"ZpDG","../../assets/ImageResources":"n9mu","../components/ChargesComponent":"lD3b"}],"HNeP":[function(require,module,exports) {
"use strict";var e=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var o=t(require("./MapObject")),r=require("../../assets/MapObjectResources"),n=require("../components/PositionComponent"),i=t(require("../components/VisualComponent")),s=require("../../assets/ImageResources"),u=t(require("../components/IsSprayComponent")),a=function(t){function o(){var e=t.call(this,r.MapObjectTypeID.SPRAY_BLOB)||this,o=new u.default;e.add(o);var a=new n.PositionComponent;a.collision_group=n.CollisionGroups.GHOST,e.add(a);var p=new i.default;return p.icon=s.ImageID.OBJECT__SPRAYED,p.image=s.ImageID.OBJECT__SPRAYED,p.priority=-1e3,e.add(p),e}return e(o,t),o}(o.default);exports.default=a;
},{"./MapObject":"BVhu","../../assets/MapObjectResources":"BWOB","../components/PositionComponent":"SUj7","../components/VisualComponent":"ZpDG","../../assets/ImageResources":"n9mu","../components/IsSprayComponent":"xDlw"}],"wqnE":[function(require,module,exports) {
"use strict";var e=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var o=t(require("./MapObject")),r=require("../../assets/MapObjectResources"),n=require("../components/PositionComponent"),i=t(require("../components/VisualComponent")),s=require("../../assets/ImageResources"),u=t(require("../components/IsPaperComponent")),a=function(t){function o(){var e=t.call(this,r.MapObjectTypeID.PAPER_BLOB)||this,o=new n.PositionComponent;o.collision_group=n.CollisionGroups.INTERACTABLE,o.collision_mask=n.CollisionGroups.INTERACTABLE,e.add(o);var a=new i.default;a.icon=a.image=s.ImageID.OBJECT__SINGLE_PAPER,a.priority=-5,e.add(a);var p=new u.default;return e.add(p),e}return e(o,t),o}(o.default);exports.default=a;
},{"./MapObject":"BVhu","../../assets/MapObjectResources":"BWOB","../components/PositionComponent":"SUj7","../components/VisualComponent":"ZpDG","../../assets/ImageResources":"n9mu","../components/IsPaperComponent":"xDlw"}],"G7rW":[function(require,module,exports) {
"use strict";var e=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var n=t(require("./MapObjectComponent")),r=t(require("../objects/MapObject")),o=require("./PositionComponent"),i=t(require("../tasks/InputMoveTask")),a=require("../../ts_library/conversion/fromDirection"),u=require("../tasks/MoveObjectTask"),s=t(require("./InventarComponent")),p=t(require("../tasks/CreateObjectTask")),c=t(require("../objects/DesinfectionBlob")),f=t(require("../tasks/InputUseSprayTask")),_=t(require("../tasks/InputUsePaperTask")),l=t(require("../tasks/InputEatTask copy")),d=t(require("./HungerComponent")),h=t(require("../objects/PaperBlob")),v=t(require("./ChargesComponent")),y=require("../../assets/MapObjectResources"),b=t(require("./MovingComponent")),g=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.tasks=[],e}return e(n,t),n.prototype.update=function(e,t){var n=this.tasks;return this.tasks=[],n},n.prototype.handle=function(e,t,n){return t instanceof i.default?this.handle_input_move(e,t,n):t instanceof f.default?this.handle_input_use_spray(e,t,n):t instanceof _.default?this.handle_input_use_paper(e,t,n):t instanceof l.default?this.handle_input_eat(e,t,n):e},n.prototype.handle_input_move=function(e,t,n){var r=n.get(o.PositionComponent);if(!r)return e;var i=n.get(b.default);if(i&&!1!==i.progress)return e;var s=r.position,p=r.position.add(a.direction_to_point(t.direction,1));return this.tasks.push(new u.MoveObjectTask(s,p,n.instance_ID)),e},n.prototype.handle_input_use_spray=function(e,t,n){var r=n.get(o.PositionComponent);if(!r)return e;var i=e.world_map.at(r.position);return i?i.objects.reduce(function(e,t){return t.instance_ID===n.instance_ID?e:e+1},0)>0?e:this.use_charge_if_available(n,1,function(e){return e.type===y.MapObjectTypeID.SPRAY})?(this.tasks.push(new p.default(function(e){return new c.default},r.position,o.CollisionGroups.INTERACTABLE)),e):e:e},n.prototype.handle_input_use_paper=function(e,t,n){var r=n.get(o.PositionComponent);if(!r)return e;var i=e.world_map.at(r.position);return i?i.objects.reduce(function(e,t){return t.instance_ID===n.instance_ID?e:e+1},0)>0?e:this.use_charge_if_available(n,1,function(e){return e.type===y.MapObjectTypeID.PAPER_ROLL})?(this.tasks.push(new p.default(function(e){return new h.default},r.position,o.CollisionGroups.INTERACTABLE)),e):e:e},n.prototype.handle_input_eat=function(e,t,n){var r=n.get(d.default);return r&&this.use_charge_if_available(n,1,function(e){return e.type===y.MapObjectTypeID.NUDEL})?(r.urge_to_eat=Math.max(0,r.urge_to_eat-50),e):e},n.prototype.use_charge_if_available=function(e,t,n){var o=e.get(s.default);if(!o)return!1;var i=o.items.filter(function(e){var t=r.default.get(e);return!!t&&(!!t.has(v.default)&&!!n(t))},[]);return!(i.reduce(function(e,t){return e+r.default.get(t).get(v.default).charges_left},0)<t)&&(i.reduce(function(e,t){if(e<=0)return 0;var n=r.default.get(t).get(v.default),o=Math.min(n.charges_left,e);return n.charges_left-=o,e-o},t),!0)},n}(n.default);exports.default=g;
},{"./MapObjectComponent":"SlkT","../objects/MapObject":"BVhu","./PositionComponent":"SUj7","../tasks/InputMoveTask":"Sd28","../../ts_library/conversion/fromDirection":"R0cs","../tasks/MoveObjectTask":"Em0L","./InventarComponent":"hEXs","../tasks/CreateObjectTask":"ODNs","../objects/DesinfectionBlob":"HNeP","../tasks/InputUseSprayTask":"nCYO","../tasks/InputUsePaperTask":"nCYO","../tasks/InputEatTask copy":"nCYO","./HungerComponent":"psSw","../objects/PaperBlob":"wqnE","./ChargesComponent":"lD3b","../../assets/MapObjectResources":"BWOB","./MovingComponent":"XFiS"}],"Ot7P":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}();Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./Task"),o=function(e){function o(t){var o=e.call(this)||this;return o.new_position=t,o}return t(o,e),o.prototype.execute=function(t){return t.camera_position=this.new_position,t},o}(e.Task);exports.SetCameraPositionTask=o;
},{"./Task":"mo7A"}],"bIwP":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var o=e(require("./MapObjectComponent")),i=require("../../ts_library/space/SimpleShapes"),r=require("./PositionComponent"),n=require("../tasks/SetCameraPositionTask"),s=require("../tasks/MoveObjectTask"),p=e(require("./MovingComponent")),a=function(e){function o(){var t=e.call(this)||this;return t.p=new i.Point(0,0),t}return t(o,e),o.prototype.update=function(t,e){var o=e.get(r.PositionComponent),i=e.get(p.default);if(!o)return[];if(i&&!1!==i.progress&&i.previous_position){var s=o.position.sub(i.previous_position),a=i.previous_position.add(s.mul(i.progress));return o.position.equals(a)?[]:[new n.SetCameraPositionTask(this.p=a)]}return o.position.equals(this.p)?[]:[new n.SetCameraPositionTask(this.p=o.position)]},o.prototype.handle=function(t,e,o){if(e instanceof s.MoveObjectTask&&o.instance_ID===e.object_id){var i=o.get(r.PositionComponent),n=o.get(p.default);if(i)if(n&&!1!==n.progress){var a=i.position.sub(n.previous_position),u=n.previous_position.add(a.mul(n.progress));this.p=t.camera_position=u}else this.p=t.camera_position=e.target}return t},o}(o.default);exports.default=a;
},{"./MapObjectComponent":"SlkT","../../ts_library/space/SimpleShapes":"fgAD","./PositionComponent":"SUj7","../tasks/SetCameraPositionTask":"Ot7P","../tasks/MoveObjectTask":"Em0L","./MovingComponent":"XFiS"}],"k5hM":[function(require,module,exports) {
"use strict";var e=this&&this.__extends||function(){var e=function(o,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var t in o)o.hasOwnProperty(t)&&(e[t]=o[t])})(o,t)};return function(o,t){function n(){this.constructor=o}e(o,t),o.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=o(require("./MapObject")),n=require("../../assets/MapObjectResources"),r=o(require("../components/InventarComponent")),i=o(require("../components/HungerComponent")),u=o(require("../components/PlayerControlled")),a=require("../components/PositionComponent"),s=o(require("../components/FollowWithCameraComponent")),p=o(require("../components/HitPointsComponent")),c=o(require("../components/IsHumanComponent")),d=o(require("../components/MovingComponent")),l=function(o){function t(){var e=o.call(this,n.MapObjectTypeID.PLAYER)||this,t=new a.PositionComponent;t.collision_group=a.CollisionGroups.MOVEABLE,t.collision_mask=a.CollisionGroups.MOVEABLE;var l=new d.default;l.time_needed_to_move=.125,e.add(l),e.add(new c.default),e.add(new r.default),e.add(new i.default(e));var f=new p.default;return f.current=f.max=10,e.add(f),e.add(new u.default),e.add(t),e.add(new s.default),e}return e(t,o),t}(t.default);exports.default=l;
},{"./MapObject":"BVhu","../../assets/MapObjectResources":"BWOB","../components/InventarComponent":"hEXs","../components/HungerComponent":"psSw","../components/PlayerControlled":"G7rW","../components/PositionComponent":"SUj7","../components/FollowWithCameraComponent":"bIwP","../components/HitPointsComponent":"mUmB","../components/IsHumanComponent":"xDlw","../components/MovingComponent":"XFiS"}],"TITj":[function(require,module,exports) {
"use strict";var e=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var o=t(require("./MapObject")),n=require("../../assets/MapObjectResources"),r=require("../components/PositionComponent"),s=t(require("../components/ChargesComponent")),i=t(require("../components/IsPaperComponent")),a=t(require("../components/VisualComponent")),u=require("../../assets/ImageResources"),c=t(require("../components/IsCollectableComponent")),p=function(t){function o(){var e=t.call(this,n.MapObjectTypeID.PAPER_ROLL)||this,o=new i.default;e.add(o);var p=new r.PositionComponent;p.collision_group=r.CollisionGroups.COLLECTABLE,p.collision_mask=r.CollisionGroups.GHOST,e.add(p);var l=new a.default;l.image=l.icon=u.ImageID.OBJECT__PAPER_ROLL,e.add(l);var _=new s.default;_.charges_left=3,e.add(_);var f=new c.default;return e.add(f),e}return e(o,t),o}(o.default);exports.default=p;
},{"./MapObject":"BVhu","../../assets/MapObjectResources":"BWOB","../components/PositionComponent":"SUj7","../components/ChargesComponent":"lD3b","../components/IsPaperComponent":"xDlw","../components/VisualComponent":"ZpDG","../../assets/ImageResources":"n9mu","../components/IsCollectableComponent":"xDlw"}],"F26R":[function(require,module,exports) {
"use strict";var e=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var o=t(require("./MapObject")),n=require("../../assets/MapObjectResources"),r=require("../components/PositionComponent"),s=t(require("../components/ChargesComponent")),i=t(require("../components/VisualComponent")),u=require("../../assets/ImageResources"),a=t(require("../components/IsCollectableComponent")),c=function(t){function o(){var e=t.call(this,n.MapObjectTypeID.NUDEL)||this,o=new r.PositionComponent;o.collision_group=r.CollisionGroups.COLLECTABLE,o.collision_mask=r.CollisionGroups.GHOST,e.add(o);var c=new i.default;c.image=c.icon=u.ImageID.OBJECT__NUDEL4,e.add(c);var p=new s.default;p.charges_left=1,e.add(p);var l=new a.default;return e.add(l),e}return e(o,t),o}(o.default);exports.default=c;
},{"./MapObject":"BVhu","../../assets/MapObjectResources":"BWOB","../components/PositionComponent":"SUj7","../components/ChargesComponent":"lD3b","../components/VisualComponent":"ZpDG","../../assets/ImageResources":"n9mu","../components/IsCollectableComponent":"xDlw"}],"KWBa":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var r=e(require("./MapObjectComponent")),n=e(require("../objects/Spray")),o=e(require("../tasks/CreateObjectTask")),i=require("./PositionComponent"),u=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=function(){return new n.default},t.interval_in_seconds=10,t.current_timer=0,t}return t(r,e),r.prototype.update=function(t,e,r){if((this.current_timer-=t)>0)return[];this.current_timer+=this.interval_in_seconds;var n=e.get(i.PositionComponent);return n?[new o.default(this.type,n.position,i.CollisionGroups.COLLECTABLE)]:[]},r}(r.default);exports.default=u;
},{"./MapObjectComponent":"SlkT","../objects/Spray":"mQAr","../tasks/CreateObjectTask":"ODNs","./PositionComponent":"SUj7"}],"rfDv":[function(require,module,exports) {
"use strict";var e=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var o=t(require("./MapObject")),n=require("../../assets/MapObjectResources"),r=require("../components/PositionComponent"),i=t(require("../components/SpawnItemsComponent")),s=t(require("./Spray")),u=t(require("../components/VisualComponent")),a=require("../../assets/ImageResources"),p=function(t){function o(){var e=t.call(this,n.MapObjectTypeID.CLINICAL_PALLETTE)||this,o=new r.PositionComponent;o.collision_group=r.CollisionGroups.INTERACTABLE,o.collision_mask=r.CollisionGroups.UNPASSABLE,e.add(o);var p=new i.default;p.type=function(){return new s.default},p.interval_in_seconds=2,e.add(p);var c=new u.default;return c.image=a.ImageID.TERRAIN__INDOOR_EMPTY_CLINICAL_PALLETTE,c.priority=-200,e.add(c),e}return e(o,t),o}(o.default);exports.default=p;
},{"./MapObject":"BVhu","../../assets/MapObjectResources":"BWOB","../components/PositionComponent":"SUj7","../components/SpawnItemsComponent":"KWBa","./Spray":"mQAr","../components/VisualComponent":"ZpDG","../../assets/ImageResources":"n9mu"}],"gtRv":[function(require,module,exports) {
"use strict";var e=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var o=t(require("./MapObject")),n=require("../../assets/MapObjectResources"),r=require("../components/PositionComponent"),i=t(require("../components/SpawnItemsComponent")),s=t(require("./Paperroll")),u=t(require("../components/VisualComponent")),a=require("../../assets/ImageResources"),p=function(t){function o(){var e=t.call(this,n.MapObjectTypeID.TOILET)||this,o=new r.PositionComponent;o.collision_group=r.CollisionGroups.INTERACTABLE,o.collision_mask=r.CollisionGroups.UNPASSABLE,e.add(o);var p=new i.default;p.type=function(){return new s.default},p.interval_in_seconds=24,e.add(p);var c=new u.default;return c.image=a.ImageID.TERRAIN__INDOOR_TOILET,e.add(c),e}return e(o,t),o}(o.default);exports.default=p;
},{"./MapObject":"BVhu","../../assets/MapObjectResources":"BWOB","../components/PositionComponent":"SUj7","../components/SpawnItemsComponent":"KWBa","./Paperroll":"TITj","../components/VisualComponent":"ZpDG","../../assets/ImageResources":"n9mu"}],"BRzP":[function(require,module,exports) {
"use strict";var e=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var o=t(require("./MapObject")),n=require("../../assets/MapObjectResources"),r=require("../components/PositionComponent"),i=t(require("../components/SpawnItemsComponent")),s=t(require("./Nudel")),u=t(require("../components/VisualComponent")),a=require("../../assets/ImageResources"),c=function(t){function o(){var e=t.call(this,n.MapObjectTypeID.DISH)||this,o=new r.PositionComponent;o.collision_group=r.CollisionGroups.INTERACTABLE,o.collision_mask=r.CollisionGroups.UNPASSABLE,e.add(o);var c=new i.default;c.type=function(){return new s.default},c.interval_in_seconds=24,e.add(c);var p=new u.default;return p.image=a.ImageID.TERRAIN__INDOOR_TABLE,e.add(p),e}return e(o,t),o}(o.default);exports.default=c;
},{"./MapObject":"BVhu","../../assets/MapObjectResources":"BWOB","../components/PositionComponent":"SUj7","../components/SpawnItemsComponent":"KWBa","./Nudel":"F26R","../components/VisualComponent":"ZpDG","../../assets/ImageResources":"n9mu"}],"H7zZ":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var r,t=e(require("./MapData")),a=require("../assets/TerrainResources"),i=e(require("../logic/objects/Wall")),n=e(require("../logic/objects/Spray")),c=e(require("../logic/objects/Agent")),o=e(require("../logic/objects/Virus")),u=e(require("../logic/objects/Paperroll")),D=e(require("../logic/objects/Nudel")),R=e(require("../logic/objects/ClinicalPallette")),A=e(require("../logic/objects/Toilet")),O=e(require("../logic/objects/Dish"));function _(e){var r=new OffscreenCanvas(e.width,e.height).getContext("2d");if(!r)throw new Error("Unable to create Context");r.imageSmoothingEnabled=!1,r.drawImage(e,0,0,e.width,e.height);var a=r.getImageData(0,0,e.width,e.height),i=new Uint32Array(a.data.buffer),n=new t.default(e.width,e.height);return i.forEach(function(e,r){var t=r%a.width,i=Math.trunc(r/a.width);n.set(t,i,l(e))}),n}function s(e,r,a){var i=new t.default(e,r);return a.forEach(function(r,t){var a=t%e,n=Math.trunc(t/e);i.set(a,n,l(r))}),i}function l(e){switch(e){case r.BLACK:return{terrain:a.TerrainTypeID.INDOOR_SHOP,object:i.default};case r.DARK_GRAY:return{terrain:a.TerrainTypeID.INDOOR_SHOP};case r.GRAY:return{terrain:a.TerrainTypeID.INDOOR_SHOP,object:R.default};case r.WHITE:return{terrain:a.TerrainTypeID.INDOOR_SHOP,object:n.default};case r.CYAN:return{terrain:a.TerrainTypeID.OUTDOOR_GRAS,object:c.default};case r.DARK_CYAN:return{terrain:a.TerrainTypeID.INDOOR_SHOP,object:c.default};case r.RED:return{terrain:a.TerrainTypeID.OUTDOOR_GRAS,object:o.default};case r.DARK_RED:return{terrain:a.TerrainTypeID.INDOOR_SHOP,object:o.default};case r.YELLOW:return{terrain:a.TerrainTypeID.INDOOR_SHOP,object:u.default};case r.DARK_YELLOW:return{terrain:a.TerrainTypeID.INDOOR_SHOP,object:A.default};case r.BLUE:return{terrain:a.TerrainTypeID.INDOOR_SHOP,object:D.default};case r.DARK_BLUE:return{terrain:a.TerrainTypeID.INDOOR_SHOP,object:O.default};case r.DARK_MAGENTA:return{terrain:a.TerrainTypeID.INDOOR_SHOP,object:R.default};case r.MAGENTA:return{terrain:a.TerrainTypeID.INDOOR_SHOP,object:n.default};default:case r.DARK_GREEN:case r.GREEN:return{terrain:a.TerrainTypeID.OUTDOOR_GRAS}}}exports.load_mapdata_from_image=_,exports.load_mapdata_from_image_array=s,exports.color_to_mapfielddata=l,function(e){e[e.RED=4278190335]="RED",e[e.GREEN=4278255360]="GREEN",e[e.YELLOW=4278255615]="YELLOW",e[e.BLUE=4294901760]="BLUE",e[e.MAGENTA=4294902015]="MAGENTA",e[e.CYAN=4294967040]="CYAN",e[e.BLACK=4278190080]="BLACK",e[e.GRAY=4294967295]="GRAY",e[e.WHITE=4287137928]="WHITE",e[e.DARK_GRAY=4280229663]="DARK_GRAY",e[e.DARK_RED=4278190111]="DARK_RED",e[e.DARK_GREEN=4278198016]="DARK_GREEN",e[e.DARK_YELLOW=4278198047]="DARK_YELLOW",e[e.DARK_BLUE=4280221696]="DARK_BLUE",e[e.DARK_MAGENTA=4280221727]="DARK_MAGENTA",e[e.DARK_CYAN=4280229632]="DARK_CYAN"}(r||(r={}));
},{"./MapData":"KmiH","../assets/TerrainResources":"cAzr","../logic/objects/Wall":"vCFl","../logic/objects/Spray":"mQAr","../logic/objects/Agent":"k5hM","../logic/objects/Virus":"PaVE","../logic/objects/Paperroll":"TITj","../logic/objects/Nudel":"F26R","../logic/objects/ClinicalPallette":"rfDv","../logic/objects/Toilet":"gtRv","../logic/objects/Dish":"BRzP"}],"exJH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var a=require("../assets/images/maps/map1"),e=require("../assets/images/maps/map2"),t=require("../assets/images/maps/map3"),m=require("../assets/images/maps/map4"),i=require("../assets/images/maps/map5"),_=require("../assets/images/maps/map6"),r=require("../assets/images/maps/map7"),s=require("../assets/images/maps/map8"),d=require("../assets/images/maps/map9"),p=require("../assets/ImageResources"),o=require("../loading/MapDataLoader"),l=function(){function l(){this.current_level=0,this.levels=[],this.add_level({introuction_image:p.ImageID.TUTORIAL__LEVEL1,map_data:o.load_mapdata_from_image_array(a.map1.width,a.map1.height,a.map1.data),start_day_time:12}),this.add_level({introuction_image:p.ImageID.TUTORIAL__LEVEL2,map_data:o.load_mapdata_from_image_array(e.map2.width,e.map2.height,e.map2.data),start_day_time:6}),this.add_level({introuction_image:p.ImageID.TUTORIAL__LEVEL3,map_data:o.load_mapdata_from_image_array(t.map3.width,t.map3.height,t.map3.data),start_day_time:6}),this.add_level({introuction_image:p.ImageID.TUTORIAL__LEVEL4,map_data:o.load_mapdata_from_image_array(m.map4.width,m.map4.height,m.map4.data),start_day_time:6}),this.add_level({introuction_image:p.ImageID.TUTORIAL__LEVEL5,map_data:o.load_mapdata_from_image_array(i.map5.width,i.map5.height,i.map5.data),start_day_time:6}),this.add_level({introuction_image:p.ImageID.TUTORIAL__LEVEL6,map_data:o.load_mapdata_from_image_array(_.map6.width,_.map6.height,_.map6.data),start_day_time:6}),this.add_level({introuction_image:p.ImageID.TUTORIAL__LEVEL7,map_data:o.load_mapdata_from_image_array(r.map7.width,r.map7.height,r.map7.data),start_day_time:6}),this.add_level({introuction_image:p.ImageID.TUTORIAL__LEVEL8,map_data:o.load_mapdata_from_image_array(s.map8.width,s.map8.height,s.map8.data),start_day_time:6}),this.add_level({introuction_image:p.ImageID.TUTORIAL__LEVEL9,map_data:o.load_mapdata_from_image_array(d.map9.width,d.map9.height,d.map9.data),start_day_time:6})}return l.prototype.add_level=function(a){this.levels.push(a)},l.prototype.current=function(){return this.levels[this.current_level]},l.prototype.next=function(){return this.current_level++,!(this.current_level>=this.levels.length)&&this.current()},l.prototype.select=function(a){this.current_level=a},l}();exports.default=l;
},{"../assets/images/maps/map1":"qQyX","../assets/images/maps/map2":"Lc89","../assets/images/maps/map3":"cxU9","../assets/images/maps/map4":"O26Z","../assets/images/maps/map5":"hvwC","../assets/images/maps/map6":"VeRh","../assets/images/maps/map7":"a8wb","../assets/images/maps/map8":"Eibq","../assets/images/maps/map9":"vVTn","../assets/ImageResources":"n9mu","../loading/MapDataLoader":"H7zZ"}],"NhyJ":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("../../../loading/MapData")),r=e(require("../WorldMap")),a=require("../../../assets/TerrainResources"),i=require("../../../ts_library/space/SimpleShapes"),n=function(){function e(){var e=this;this.field_generator=function(t,r,n){var o=e.map_data.at(r,n),s=(a.TerrainTypeID.INDOOR_SHOP,a.TerrainTypeID.OUTDOOR_GRAS,{type:o.terrain,variation_key:0}),u=[];return o.object&&u.push(new o.object),{location:new i.Point(r,n),objects:u,terrain:s}},this.map_data=new t.default(5,5)}return e.prototype.build=function(e){e&&(this.map_data=e);var t=this.field_generator;return new r.default(this.map_data.width,this.map_data.height,t)},e}();exports.default=n;
},{"../../../loading/MapData":"KmiH","../WorldMap":"vY3p","../../../assets/TerrainResources":"cAzr","../../../ts_library/space/SimpleShapes":"fgAD"}],"bOXF":[function(require,module,exports) {
"use strict";var e=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var r=t(require("./System")),n=t(require("./events/LoadNextLevelSystemEvent")),o=t(require("../../main/GameLevels")),i=t(require("../components/FollowWithCameraComponent")),l=t(require("../map/helper/CreateMap")),a=t(require("./events/RestartLevelSystemEvent")),u=function(t){function r(){var e=t.call(this)||this;return e.level_handler=new o.default,e.creator_map=new l.default,e.is_loading_level=!1,e}return e(r,t),r.prototype.update=function(e,t){return this.is_loading_level?(this.is_loading_level=!1,this.load_level(t)):t},r.prototype.load_level=function(e){var t=this.creator_map.build(this.level_handler.current().map_data),r=t.map_fields_in_rect(t.get_map_boundries(),function(e){return e.objects}).flatMap(function(e){return e.filter(function(e){return e.get(i.default)})}).reduce(function(e,t){return e||t},null);if(null===r)throw new Error;var n=r.instance_ID;return Object.assign(e,{time_of_day:this.level_handler.current().start_day_time,world_map:t,selected:n})},r.prototype.handle=function(e){e instanceof n.default?(this.level_handler.next(),this.is_loading_level=!0):e instanceof a.default&&(this.is_loading_level=!0)},r}(r.default);exports.default=u;
},{"./System":"c0W6","./events/LoadNextLevelSystemEvent":"qXK9","../../main/GameLevels":"exJH","../components/FollowWithCameraComponent":"bIwP","../map/helper/CreateMap":"NhyJ","./events/RestartLevelSystemEvent":"qXK9"}],"jKSw":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(a,i){function s(e){try{u(n.next(e))}catch(t){i(t)}}function o(e){try{u(n.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(s,o)}u((n=n.apply(e,t||[])).next())})},t=this&&this.__generator||function(e,t){var r,n,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(a=2&i[0]?n.return:i[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,i[1])).done)return a;switch(n=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(o){i=[6,o],n=0}finally{r=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}},r=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(o){a={error:o}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(a)throw a.error}}return s},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var a=n(require("./manager/ImageManager")),i=n(require("./ts_library/utility/FpsCounter")),s=require("./logic/user_input/Input"),o=n(require("./logic/system/System")),u=require("./main/GameState"),l=n(require("./main/GameVisualizer")),c=require("./ts_library/space/SimpleShapes"),m=require("./main/GameMode"),f=n(require("./logic/system/UpdateMapSystem")),h=n(require("./logic/system/TaskHandleSystem")),d=n(require("./logic/system/InputHandlingSystem")),p=require("./assets/ImageResources"),y=n(require("./logic/system/TimeOfDaySystem")),_=n(require("./logic/system/CalculateInformationSystem")),g=n(require("./logic/system/WinOrLooseSystem")),v=n(require("./logic/map/WorldMap")),w=require("./assets/TerrainResources"),b=n(require("./logic/system/events/RestartLevelSystemEvent")),q=n(require("./logic/system/LevelLoaderSystem")),x=function(){function n(e){var t=this;this.fps_counter=new i.default(60,60),this.systems=[],this.context=this.setup_dom_context(e),this.input_delegator=new s.InputDelegator(e),this.images=this.construct_image_manager(),this.images.on_progress_listener.add(function(e){var n=r(e,2),a=n[0],i=n[1],s=Math.min(i.height,t.context.canvas.height/2),o=i.width/i.height*s;t.context.drawImage(i,a*t.context.canvas.width-o,t.context.canvas.height/2-s/2,o,s)}),this.game_state={modus:m.GameMode.INITIAL,post_game_stats:{won_or_lost:u.GameResult.TIE},current_level:0,day:0,time_of_day:6,world_map:new v.default(5,5,function(e,t,r){return{location:new c.Point(t,r),objects:[],terrain:{type:w.TerrainTypeID.OUTDOOR_GRAS,variation_key:0}}}),camera_position:new c.Point(3,3),selected:null,tasks:[],calculated:{remaining_virusses:0,remaining_humans:0}},this.visualizer=new l.default(this.context,this.images),this.systems=[new q.default,new _.default,new g.default,new y.default,new f.default,new h.default,new d.default(this.input_delegator)],o.default.events.add(function(e){t.systems.forEach(function(t){t.handle(e)})})}return n.prototype.setup_dom_context=function(e){var t=document.createElement("canvas");t.width=800,t.height=600,e.innerHTML="",e.appendChild(t);var r=t.getContext("2d");if(!r)throw new Error("Could not create canvas context");return this.context=r},n.prototype.construct_image_manager=function(){return new a.default(p.image_resources)},n.prototype.start=function(){return e(this,void 0,void 0,function(){var e,r,n=this;return t(this,function(t){switch(t.label){case 0:return[4,this.images.wait_until_loaded()];case 1:return t.sent(),o.default.events.trigger_event(new b.default),this.game_state.modus=m.GameMode.PLAYING,e=performance.now(),(r=function(){var t=performance.now(),a=Math.min(.013,(t-e)/1e3);n.fps_counter.update(),n.update(a),n.draw(a),requestAnimationFrame(r),e=t})(),[2]}})})},n.prototype.update=function(e){var t=this;this.game_state=this.systems.reduce(function(r,n){return n.update(e,t.game_state)},this.game_state)},n.prototype.draw=function(e){this.context.clearRect(0,0,800,600),this.visualizer.display(e,this.game_state)},n}();exports.default=x;
},{"./manager/ImageManager":"Am7D","./ts_library/utility/FpsCounter":"SvKx","./logic/user_input/Input":"kRKL","./logic/system/System":"c0W6","./main/GameState":"kbIU","./main/GameVisualizer":"fhts","./ts_library/space/SimpleShapes":"fgAD","./main/GameMode":"Xj3t","./logic/system/UpdateMapSystem":"igT0","./logic/system/TaskHandleSystem":"tLR9","./logic/system/InputHandlingSystem":"l7X5","./assets/ImageResources":"n9mu","./logic/system/TimeOfDaySystem":"b5KT","./logic/system/CalculateInformationSystem":"mW26","./logic/system/WinOrLooseSystem":"KKVU","./logic/map/WorldMap":"vY3p","./assets/TerrainResources":"cAzr","./logic/system/events/RestartLevelSystemEvent":"qXK9","./logic/system/LevelLoaderSystem":"bOXF"}],"QCba":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("./Game")),r=document.getElementsByClassName("screen__app").item(0);if(!(r instanceof HTMLElement))throw new Error("No");new t.default(r).start();
},{"./Game":"jKSw"}]},{},["QCba"], null)
//# sourceMappingURL=src.3b9b6d56.js.map